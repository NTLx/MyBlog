<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>UNRAID - NTLx&#39;s Blog</title>
<link rel="shortcut icon" href="http://www.ntlx.top/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="http://www.ntlx.top/media/css/tailwind.css">
<link rel="stylesheet" href="http://www.ntlx.top/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="UNRAID - NTLx&#39;s Blog - Atom Feed" href="http://www.ntlx.top/atom.xml">


  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PM6M384V04"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-PM6M384V04');
  </script>
    

  <meta name="description" content="Unleash Your Hardware
Unraid is an operating system for personal and small business use that brings enterprise-class fea..." />
  <meta property="og:title" content="UNRAID - NTLx&#39;s Blog">
  <meta property="og:description" content="Unleash Your Hardware
Unraid is an operating system for personal and small business use that brings enterprise-class fea..." />
  <meta property="og:type" content="articles">
  <meta property="og:url" content="http://www.ntlx.top/post/unraid/" />
  <meta property="og:image" content="http://www.ntlx.top/post-images/unraid.svg">
  <meta property="og:image:height" content="630">
  <meta property="og:image:width" content="1200">
  <meta name="twitter:title" content="UNRAID - NTLx&#39;s Blog">
  <meta name="twitter:description" content="Unleash Your Hardware
Unraid is an operating system for personal and small business use that brings enterprise-class fea...">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="http://www.ntlx.top/post/unraid/">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
 
  
    <link rel="stylesheet" href="http://www.ntlx.top/media/css/prism-atom-dark.css">
  

  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="http://www.ntlx.top" class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      NTLx&#39;s Blog
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          UNRAID
        </h1>
        
          <img src="http://www.ntlx.top/post-images/unraid.svg" alt="UNRAID" class="block w-full mb-8">
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">2021-05-21 · 16 min read</div>
          
            <a href="http://www.ntlx.top/tag/--y3CL9Vk/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              UNRAID
            </a>
          
            <a href="http://www.ntlx.top/tag/hbvpXyRe-/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              setting
            </a>
          
            <a href="http://www.ntlx.top/tag/WJQpj0dJWf/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              server
            </a>
          
        </div>
        <div class="markdown mb-8" v-pre>
          <p><strong><a href="https://unraid.net/">Unleash Your Hardware</a></strong></p>
<p>Unraid is an operating system for personal and small business use that brings enterprise-class features letting you configure your computer systems to maximize performance and capacity using any combination of applications, VMs, storage devices, and hardware.</p>
<!-- more -->
<h1 id="unraid-installation">UNRAID Installation</h1>
<ol>
<li>Download files from <a href="https://softoroom.net/topic89043.html">softoroom</a> web site and extract by password: <code>softoroom</code>, <a href="http://lx.ntlx.xyz:10080/share/ikO_a7mu">here</a> is a mirror</li>
<li>Get a USB drive, format to FAT32, then copy all content in UNRAID image to USB drive</li>
<li>Run <code>make_bootable.bat</code> (on windows) with admin privilege</li>
<li>Plug in the USB drive to target machine, then power on (set <code>legacy boot</code> in BIOS if cannot boot from the USB drive)</li>
<li>Visit the ip shows in target machine, recored the UUID, and choose <code>Trail</code>, then power off the UNRAID</li>
<li>Plug in the USB drive to a windows PC (for example), run <code>keymaker.exe UUID</code>, you will get a <code>UUID.key</code> file in the same dir of <code>keymaker.exe</code>, put the <code>UUID.key</code> file to <code>config</code> dir in USB drive, and delete <code>trail.key</code></li>
<li>Plug in the USB drive to traget machine and power on, enjoy it</li>
</ol>
<h1 id="unraid-settings">UNRAID Settings</h1>
<h2 id="time">Time</h2>
<blockquote>
<p>NTP server settings.</p>
</blockquote>
<pre><code>time.asia.apple.com
ntp1.aliyun.com
s1b.time.edu.cn
s1c.time.edu.cn
</code></pre>
<h2 id="storage">Storage</h2>
<p>Every mounted disk inside UNRAID disk array will link to <code>/mnt/usr/</code> dir, so if you need to manipulate file(s) or dir(s) manually, operate inside <code>/mnt/usr/</code> dir was recommanded, it's also recommanded to docker path link settings.</p>
<blockquote>
<p>You can modify this disk management strategy in <code>SETTINGS</code> menu's <code>Global Share Settings</code>.</p>
</blockquote>
<h2 id="plugin">Plugin</h2>
<pre><code>http://github.com/dlandon/unassigned.devices/raw/master/unassigned.devices.plg
</code></pre>
<h1 id="unraid-docker">UNRAID Docker</h1>
<p>The Docker GUI in UNRAID was recommanded, but the Command Line was also convenient.</p>
<blockquote>
<p>You can set <code>Web UI</code> like this format in UNRAID docker GUI: <code>http://[IP]:[PORT:8080]</code></p>
</blockquote>
<h2 id="jellyfin">Jellyfin</h2>
<pre><code class="language-bash">docker run -d --name='Jellyfin' --net='bridge' --privileged=true --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '3006:8096/tcp' -v '/mnt/disk1/appdata/jellyfin/cache':'/cache':'rw' -v '/mnt/disk1/appdata/jellyfin/config':'/config':'rw' -v '/mnt/disks/Seagate_Expansion_Drive':'/media/video':'rw' -v '/mnt/disk1/Music':'/media/music':'rw' --device='/dev/dri' 'jellyfin/jellyfin'
</code></pre>
<h2 id="freshrss">FreshRSS</h2>
<pre><code class="language-bash">docker run -d --name='FreshRSS' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'TZ'='Asia/Shanghai' -e 'PUID'='100' -e 'PGID'='1000' -p '9292:80/tcp' -v '/mnt/disk1/appdata/FreshRSS':'/config':'rw' 'linuxserver/freshrss'
</code></pre>
<h2 id="pptp">PPTP</h2>
<pre><code class="language-bash">docker run -d --name='PPTP' --net='bridge' --privileged=true --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '1723:1723/tcp' -p '1723:1723/udp' -v '/mnt/disk1/appdata/PPTP/chap-secrets':'/etc/ppp/chap-secrets':'rw' 'mobtitude/vpn-pptp'
</code></pre>
<h2 id="l2tp">L2TP</h2>
<pre><code class="language-bash">modprobe af_key
docker run -d --name='L2TP' --net='bridge' --privileged=true -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '500:500/tcp' -p '500:500/udp' -p '4500:4500/tcp' -p '4500:4500/udp' -p '1701:1701/tcp' -p '1701:1701/udp' -v '/lib/modules':'/lib/modules':'ro' --env-file /mnt/disk1/appdata/L2TP/L2TP.env --log-opt max-size=1m 'fcojean/l2tp-ipsec-vpn-server'
</code></pre>
<h2 id="open-vpn">Open VPN</h2>
<pre><code class="language-bash">cd /mnt/disk1/appdata
git clone https://github.com/kylemanna/docker-openvpn.git
cd docker-openvpn/
docker build -t myownvpn .
cd ..
mkdir vpn-data
#docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm myownvpn ovpn_genconfig -u udp://IP_ADDRESS:3333
docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm -it myownvpn ovpn_initpki
docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn -d -p 3333:1194/udp --cap-add=NET_ADMIN myownvpn
docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm -it myownvpn easyrsa build-client-full lx nopass
docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm myownvpn ovpn_getclient lx &gt; lx.ovpn
</code></pre>
<h2 id="filebrowser">FileBrowser</h2>
<pre><code class="language-bash">docker run -d --name='FileBrowser' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'WEB_PORT'='10080' -p '10080:10080/tcp' -v '/mnt/disk1/appdata/FileBrowser':'/config':'rw' -v '/mnt':'/myfiles':'rw' '80x86/filebrowser'
</code></pre>
<h2 id="aria2-ng">Aria2 &amp; NG</h2>
<pre><code class="language-bash">docker run -d --name='aria2' --net='bridge' -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'PUID'='100' -e 'PGID'='100' -p '6800:6800/tcp' -p '6800:6800/udp' -p '8888:80/tcp' -p '8888:80/udp' -v '/mnt/disk1/Download':'/data':'rw' --log-opt max-size=1m 'wjg1101766085/aira2-ng:0.0.1'
</code></pre>
<h2 id="aria2-webui">Aria2 &amp; WebUI</h2>
<pre><code class="language-bash">docker run -d --name='Aria2WebUI' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '6800:6800/tcp' -p '6880:6880/tcp' -p '6800:6800/udp' -p '6880:6880/udp' -v '/mnt/disk1/appdata/Aria2WebUI':'/conf':'rw' -v '/mnt/disk1/Download':'/data':'rw' 'xujinkai/aria2-with-webui'
</code></pre>
<h3 id="build-aria2webui">Build Aria2WebUI</h3>
<pre><code class="language-bash">docker run -it alpine
apk update
apk add aria2 git nodejs
git clone https://github.com/ziahamza/webui-aria2.git
exit
docker commit -m=&quot;Aria2WebUI Basic Image&quot; -a='NTLx' 68b9f57b0d29 aria2webui:0.1
docker run -d --name &quot;Aria2WebUI&quot; -p 6800:6800 -p 8888:8888 -v /home/pi/Download:/home aria2webui:0.1

#aria2c --enable-rpc --rpc-listen-all
#cd webui-aria2
#node node-server.js
</code></pre>
<h2 id="rrshare">rrshare</h2>
<pre><code class="language-bash">docker run -d --name='rrshare' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'PUID'='100' -e 'PGID'='99' -p '3001:3001/tcp' -v '/mnt/disk1/Download':'/opt/work/store':'rw' 'oldiy/rrshare64'
</code></pre>
<h2 id="airsonic">AirSonic</h2>
<pre><code class="language-bash">docker run -d --name='AirSonic' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '4040:4040/tcp' -p '4040:4040/udp' -v '/mnt/disk1/appdata/AirSonic':'/config':'rw' -v '/mnt/disk1/Music':'/music':'rw' -v '/mnt/disk1/Music/playlists':'/playlists':'rw' -v '/mnt/disk1/Music/podcasts':'/podcasts':'rw' 'linuxserver/airsonic'
</code></pre>
<blockquote>
<p>There are many <a href="https://airsonic.github.io/docs/apps/">Apps</a> could connect to AirSonic Music Library as an easy to use music player.</p>
</blockquote>
<h2 id="calibre-web">Calibre WEB</h2>
<pre><code class="language-bash">docker run -d --name='Calibre' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '8080:8080/tcp' -p '8081:8081/tcp' -v '/mnt/disk1/Book/Calibre_Books':'/config':'rw' 'linuxserver/calibre'
cp /mnt/disk1/Book/Calibre_Books/Calibre\ Library/metadata.db /mnt/disk1/Book/
docker run -d --name='CalibreWeb' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '10082:8082/tcp' -p '10083:8083/tcp' -v '/mnt/disk1/appdata/CalibreWeb':'/config':'rw' -v '/mnt/disk1/Book/Calibre_Books/CalibreLibrary':'/books':'rw' 'linuxserver/calibre-web'
</code></pre>
<p>If you get error &quot;<code>DB location is not valid, please enter correct path</code>&quot;, you could just put an <a href="http://ntlx.tpddns.cn:10080/share/5biuC9Ch">empty database</a> to where <code>/books</code> links to.</p>
<h2 id="leanote">LeaNote</h2>
<p>First, run CMD:</p>
<pre><code class="language-bash">docker run -d --name='LeaNote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '9000:9000/tcp' -p '9000:9000/udp' -v '/mnt/disk1/appdata/leanote/mongo':'/usr/local/bin/leanote/db_data':'rw' 'idealclover/leanote'
</code></pre>
<p>Then, copy <code>conf</code> and <code>public</code> for docker path link:</p>
<pre><code class="language-bash">docker cp LeaNote:/usr/local/bin/leanote/conf /mnt/disk1/appdata/leanote/conf
docker cp LeaNote:/usr/local/bin/leanote/public /mnt/disk1/appdata/leanote/public
</code></pre>
<p>At last, stop this container and re-run with CMD:</p>
<pre><code class="language-bash">docker run -d --name='LeaNote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '9000:9000/tcp' -p '9000:9000/udp' -v '/mnt/disk1/appdata/leanote/conf':'/usr/local/bin/leanote/conf':'rw' -v '/mnt/disk1/appdata/leanote/public':'/usr/local/bin/leanote/public':'rw' -v '/mnt/disk1/appdata/leanote/mongo':'/usr/local/bin/leanote/db_data':'rw' 'idealclover/leanote'
</code></pre>
<blockquote>
<p>Default Administrator Account: admin</p>
<p>Password: abc123</p>
</blockquote>
<h2 id="leanote-new">LeaNote (New)</h2>
<pre><code class="language-bash"># docker run -d --name leanote --restart=always --log-opt max-size=1m -m 512M --cpus=1 -e SITEURL=&quot;[访问网址/IP+端口]&quot; -e LANG=&quot;zh-cn&quot; -e DAYS=&quot;3&quot; -p 8080:9000 -v [宿主机储存路径]/leanotedata:/data hjh142857/leanote
docker run -d --name='leanote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'SITEURL'='http://ntlx.tpddns.cn:9000' -e 'LANG'='zh-cn' -e 'DAYS'='3' -p '20000:9000/tcp' -v '/mnt/disk1/appdata/leanotedata':'/data':'rw' 'hjh142857/leanote'
</code></pre>
<p><strong>Do not change default administrator account's username !</strong></p>
<blockquote>
<p>Default administrator account: admin / abc123</p>
<p>Default demo account: demo@leanote.com / demo@leanote.com</p>
<p>Default backup files will be under <code>/mnt/disk1/appdata/leanotedata/backup</code> dir</p>
<p>Copy backup files (<code>tar.gz</code> files named <code>mongodb</code> and <code>leanote</code>) to <code>/mnt/disk1/appdata/leanotedata/restore</code> dir to restore data</p>
</blockquote>
<h2 id="wiznote">WizNote</h2>
<pre><code class="language-bash">docker run -d --name='WizNote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '9000:80/tcp' -p '9000:80/udp' -p '9269:9269/udp' -v '/mnt/disk1/appdata/wiz':'/wiz/storage':'rw' 'wiznote/wizserver'
</code></pre>
<blockquote>
<p>Default Administrator account: admin@wiz.cn</p>
<p>Password: 123456</p>
<p>If you need <code>web clip</code> function, you need pay for it.</p>
</blockquote>
<h2 id="postgresql">PostgreSQL</h2>
<pre><code class="language-bash">docker run -d --name='postgresql' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'POSTGRES_PASSWORD'='password' -p '5432:5432/tcp' -v '/mnt/disk1/appdata/wikijs/postgresql':'/var/lib/postgresql/data':'rw' 'postgres'
</code></pre>
<h2 id="wikijs">wikijs</h2>
<pre><code class="language-bash">docker run -d --name='wikijs' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'DB_TYPE'='postgres' -e 'DB_HOST'='192.168.0.100' -e 'DB_PORT'='5432' -e 'DB_USER'='postgres' -e 'DB_PASS'='password' -e 'DB_NAME'='postgres' -p '3000:3000/tcp' 'requarks/wiki:beta'
</code></pre>
<h2 id="elasticsearch">ElasticSearch</h2>
<pre><code class="language-bash">docker run -d --name='ElasticSearch' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'discovery.type'='single-node' -p '9300:9300/tcp' -p '9200:9200/tcp' -p '9200:9200/udp' -p '9300:9300/udp' 'elasticsearch:7.7.1'
docker exec -it ElasticSearch bash
./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.7.1/elasticsearch-analysis-ik-7.7.1.zip
docker restart ElasticSearch
</code></pre>
<blockquote>
<p>Chinese word cut plugin: <a href="https://github.com/medcl/elasticsearch-analysis-ik">es-ik</a></p>
</blockquote>
<h2 id="nextcloud">NextCloud</h2>
<blockquote>
<p>Using PostgreSQL deployed along with wikijs</p>
</blockquote>
<pre><code class="language-bash">docker run -d --name='NextCloud' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'POSTGRES_DB'='nextcloud' -e 'POSTGRES_USER'='postgres' -e 'POSTGRES_PASSWORD'='password' -e 'POSTGRES_HOST'='192.168.0.100'  -e 'NEXTCLOUD_TRUSTED_DOMAINS'='lx.ntlx.xyz:82' -e 'NEXTCLOUD_TRUSTED_DOMAINS'='192.168.0.100:82' -p '82:80/tcp' -p '82:80/udp' -v '/mnt/disk1/appdata/NextCloud':'/var/www/html/':'rw' 'nextcloud'
</code></pre>
<h2 id="onlyoffice">OnlyOffice</h2>
<blockquote>
<p>Could connect to NextCloud and provide online document editing</p>
</blockquote>
<pre><code class="language-bash">docker run -d --name='OnlyOffice' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '83:80/tcp' -p '83:80/udp' -v '/mnt/disk1/appdata/OnlyOffice/logs':'/var/log/onlyoffice':'rw' -v '/mnt/disk1/appdata/OnlyOffice/data':'/var/www/onlyoffice/Data':'rw' 'onlyoffice/documentserver'
</code></pre>
<h2 id="wallabag">Wallabag</h2>
<pre><code class="language-bash">docker run --name wallabag --log-opt max-size=1m -d --link postgresql:postgresql -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e &quot;POSTGRES_PASSWORD=password&quot; -e &quot;POSTGRES_USER=postgres&quot; -e &quot;SYMFONY__ENV__DATABASE_DRIVER=pdo_pgsql&quot; -e 'SYMFONY__ENV__DATABASE_DRIVER_CLASS=Wallabag\CoreBundle\Doctrine\DBAL\Driver\CustomPostgreSQLDriver' -e &quot;SYMFONY__ENV__DATABASE_HOST=postgresql&quot; -e &quot;SYMFONY__ENV__DATABASE_PORT=5432&quot; -e &quot;SYMFONY__ENV__DATABASE_NAME=wallabag&quot; -e &quot;SYMFONY__ENV__DATABASE_USER=NTLx&quot; -e &quot;SYMFONY__ENV__DATABASE_PASSWORD=password&quot; -p 20000:80 wallabag/wallabag
</code></pre>
<h2 id="matterwiki">MatterWiKi</h2>
<pre><code class="language-bash">git clone http://github.com/matterwiki/matterwiki
cd matterwiki
docker build -t matterwiki .
docker run -d --name='MatterWiKi' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '5000:5000/tcp' -v '/mnt/disk1/appdata/MatterWiKi/db':'/server/db':'rw' 'matterwiki'
</code></pre>
<blockquote>
<p>Visit <code>http://ip:5000/#/setup</code> to set up administrator account.</p>
</blockquote>
<h2 id="open-project">Open Project</h2>
<pre><code class="language-bash">docker run -d --name='OpenProject' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'SECRET_KEY_BASE'='secret' -p '10008:80/tcp' -v '/mnt/disk1/appdata/openproject/pgdata':'/var/openproject/pgdata':'rw' -v '/mnt/disk1/appdata/openproject/assets':'/var/openproject/assets':'rw' 'openproject/community:latest'
</code></pre>
<h2 id="erpnext">ERPNext</h2>
<pre><code class="language-bash"># docker run -d --name='ERPNext' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '16000:80/tcp' -v '/mnt/disk1/appdata/ERPNext/frappe/site1.local':'/home/frappe/frappe-bench/sites/site1.local':'rw' -v '/mnt/disk1/appdata/ERPNext/logs':'/home/frappe/frappe-bench/logs':'rw' -v '/mnt/disk1/appdata/ERPNext/mysql':'/var/lib/mysql':'rw' 'lukptr/erpnext7'
docker run -d --name='ERPNext' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '16000:80/tcp' 'lukptr/erpnext7'
</code></pre>
<blockquote>
<p>Default Admin User Account: Administrator</p>
<p>Password: 12345678</p>
</blockquote>
<p>Usefull CMD:</p>
<pre><code class="language-bash"># Copy files from Docker Container to outside
docker cp ERPNext:/home/frappe/frappe-bench/sites/site1.local /mnt/disk1/appdata/ERPNext/frappe/
docker cp ERPNext:/home/frappe/frappe-bench/logs /mnt/disk1/appdata/ERPNext/
docker cp ERPNext:/var/lib/mysql /mnt/disk1/appdata/ERPNext/
# Enter Docker Container
docker exec -it ERPNext bash
# Run CMD inside Docker Container
bench update
bench migrate
bench backup
</code></pre>
<p>Data backup:</p>
<pre><code class="language-bash">docker exec -it ERPNext bash ## run this CMD inside docker container
bench backup # backup ## run this CMD inside docker container
docker cp ERPNext:/home/frappe/frappe-bench/sites/site1.local/private/backups /mnt/disk1/appdata/ERPNext/ # copy backup files ## run this CMD inside docker container
</code></pre>
<p>Data restore:</p>
<pre><code class="language-bash">docker cp /mnt/disk1/appdata/ERPNext/backups/database.sql.gz ERPNext:/home/frappe/
docker exec -it ERPNext bash
bench --force restore /home/frappe/database.sql.gz
</code></pre>
<h2 id="netdata">netdata</h2>
<pre><code class="language-bash">docker run -d --name='netdata' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; --security-opt 'apparmor'='unconfined' --cap-add SYS_PTRACE -p '19999:19999/tcp' -v '/etc/passwd':'/host/etc/passwd':'ro' -v '/etc/group':'/host/etc/group':'ro' -v '/proc':'/host/proc':'ro' -v '/sys':'/host/sys':'ro' -v '/var/run/docker.sock':'/var/run/docker.sock':'ro' 'netdata/netdata'
</code></pre>
<h2 id="watchtower">Watchtower</h2>
<blockquote>
<p>Docker container auto update.</p>
</blockquote>
<pre><code class="language-bash">docker run -d --name='Watchtower' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower AirSonic CalibreWeb FileBrowser wikijs WizNote
</code></pre>
<h1 id="unraid-virtual-machine">UNRAID Virtual Machine</h1>
<h2 id="black-synology-dsm">Black Synology DSM</h2>
<p>Mount NFS folder to DSM:</p>
<pre><code class="language-bash">/bin/mount -t nfs -o hard 192.168.0.100:/mnt/disk2/Photo /volume1/photo
</code></pre>

        </div>
        <!-- Share to Twitter, Weibo, Telegram -->
        <div class="flex items-center">
          <div class="mr-4 flex items-center">
            <i class="ri-share-forward-line text-gray-500"></i>
          </div>
          <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTwitter">
            <i class="ri-twitter-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex" @click="shareToWeibo">
            <i class="ri-weibo-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTelegram">
            <i class="ri-telegram-line"></i>
          </div>
        </div>
      </div>

      
        

        
          <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script type="application/javascript" src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script type="application/javascript">

var options = {
  shortname: 'ntlxtop',
  apikey: 'qkYOLyDMvFLlG9amD55l4ALA8O4r3VLrYuycPz9GvCEkhk0FjnoobeFo2KKQKZdD',
}
if ('') {
  options.api = ''
}
var dsqjs = new DisqusJS(options)

</script>

        
      

      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
  Feel free to share & use
</footer>
    </div>

    <!-- TOC Container -->
    <div class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight" @click="showToc = true">
      <i class="ri-file-list-line"></i>
    </div>

    <div class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast" :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast" @click="showToc = false">
          <i class="ri-close-line text-lg"></i>
        </div>
      </div>
      <div class="post-toc-container">
        <ul class="markdownIt-TOC">
<li><a href="#unraid-installation">UNRAID Installation</a></li>
<li><a href="#unraid-settings">UNRAID Settings</a>
<ul>
<li><a href="#time">Time</a></li>
<li><a href="#storage">Storage</a></li>
<li><a href="#plugin">Plugin</a></li>
</ul>
</li>
<li><a href="#unraid-docker">UNRAID Docker</a>
<ul>
<li><a href="#jellyfin">Jellyfin</a></li>
<li><a href="#freshrss">FreshRSS</a></li>
<li><a href="#pptp">PPTP</a></li>
<li><a href="#l2tp">L2TP</a></li>
<li><a href="#open-vpn">Open VPN</a></li>
<li><a href="#filebrowser">FileBrowser</a></li>
<li><a href="#aria2-ng">Aria2 &amp; NG</a></li>
<li><a href="#aria2-webui">Aria2 &amp; WebUI</a>
<ul>
<li><a href="#build-aria2webui">Build Aria2WebUI</a></li>
</ul>
</li>
<li><a href="#rrshare">rrshare</a></li>
<li><a href="#airsonic">AirSonic</a></li>
<li><a href="#calibre-web">Calibre WEB</a></li>
<li><a href="#leanote">LeaNote</a></li>
<li><a href="#leanote-new">LeaNote (New)</a></li>
<li><a href="#wiznote">WizNote</a></li>
<li><a href="#postgresql">PostgreSQL</a></li>
<li><a href="#wikijs">wikijs</a></li>
<li><a href="#elasticsearch">ElasticSearch</a></li>
<li><a href="#nextcloud">NextCloud</a></li>
<li><a href="#onlyoffice">OnlyOffice</a></li>
<li><a href="#wallabag">Wallabag</a></li>
<li><a href="#matterwiki">MatterWiKi</a></li>
<li><a href="#open-project">Open Project</a></li>
<li><a href="#erpnext">ERPNext</a></li>
<li><a href="#netdata">netdata</a></li>
<li><a href="#watchtower">Watchtower</a></li>
</ul>
</li>
<li><a href="#unraid-virtual-machine">UNRAID Virtual Machine</a>
<ul>
<li><a href="#black-synology-dsm">Black Synology DSM</a></li>
</ul>
</li>
</ul>

      </div>
    </div>

    <!-- Back to top -->
    <div class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200" @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-line"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="http://www.ntlx.top/media/scripts/main.js"></script>
  
  <!-- Code Highlight -->
  
    <script src="http://www.ntlx.top/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
  

  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
  <script>
    //拿到预览框架，也就是上面的html代码
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //定义图片数组变量
    var imgitems;
    /**
    * 用于显示预览界面
    * @param index 图片数组下标
    */
    function viewImg(index) {
      //其它选项这里不做过多阐述，详情见官网
      var pswpoptions = {
        index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
        bgOpacity: 0.7, // 背景透明度，0-1
        maxSpreadZoom: 3, // 缩放级别，不要太大
      };
      //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
      gallery.init()
    }
    /**
    * 用于添加图片点击事件
    * @param img 图片元素
    * @param index 所属下标（在imgitems中的位置）
    */
    function addImgClick(img, index) {
      img.onclick = function() {
        viewImg(index)
      }
    }
    /**
    * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
    * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
    * 异步加载图片可在图片元素创建完成后调用此方法
    */
    function initImg() {
      //重置图片数组
      imgitems = [];
      //查找class:markdown 下的所有img元素并遍历
      var imgs = document.querySelectorAll('.markdown img');
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //本站相册初始为loading图片，真实图片放在data-src
        var ds = img.getAttribute("data-src");
        //创建image对象，用于获取图片宽高
        var imgtemp = new Image();
        //判断是否存在data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds
        } else {
          imgtemp.src = img.src
        }
        //判断是否存在缓存
        if (imgtemp.complete) {
          var imgobj = {
            "src": imgtemp.src,
            "w": imgtemp.width,
            "h": imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          console.log('进来了2')
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function() {
            var imgobj = {
              "src": this.src,
              "w": this.width,
              "h": this.height,
            };
            //不要使用push，因为onload前后顺序会不同
            imgitems[this.index] = imgobj
            //添加点击事件
            addImgClick(this.img, this.index);
          }
        }
      }
    }
    //初始化
    initImg();
  </script>
  
  
    
  
</body>

</html>