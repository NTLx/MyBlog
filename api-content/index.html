{"posts":[{"title":"VMWare","content":"Most of this artical was written for v6.7u3, and the lastest is v7.0U2a Get ESXi Use Online protocal or Offline protocal Install VMware PowerCLI To install PowerCLI just open a PowerShell console and run the command below: Install-Module VMware.PowerCLI -Scope CurrentUser Get EXSi iso Get latest ESXi-Customizer-PS Release After extraction, run ESXi-Customizer-PS.ps1 in PowerShell, like below: .\\ESXi-Customizer-PS.ps1 -v70 -vft -load sata-xahci,net55-r8168 If you cannot run this powershell script, just run Set-ExecutionPolicy Unrestricted and enter Y Install ESXi Using VMware-VMvisor-Installer-6.7.0.update03-14320388.x86_64.iso Flash iso file to USB drive, then install to server. when setting root password, use tab or direction key to switch input lines. After the installation, use web interface to manage. Set ESXi Key Just a free key for test, limits: up to 8 vCPUs per virtual machine. HY0XH-D508H-081U8-JA2GH-CCUM2 # Or VMware vSphere 6 Enterprise Plus 0A65P-00HD0-3Z5M1-M097M-22P7H Add storage Do this if you have more disks. RDM Choose online method or offline method. Install virtual systems Mac OS Need to &quot;crack&quot; first. Download esxi-unlocker, extract, then run the script ./esxi-install.sh. Reboot ESXi after above. For VMware Fusion or WorkStation, download unlocker Setting in virtual Mac Activate HiDPI sudo defaults write /Library/Preferences/com.apple.windowserver DisplayResolutionEnabled -bool YES sudo defaults delete /Library/Preferences/com.apple.windowserver DisplayResolutionDisabled then reboot. Change screen resolution /Library/Application\\ Support/VMware\\ Tools/vmware-resolutionSet 3416 1920 About Backup Virtual Machine Enable VMware Changed Block Tracking (CBT) to only back up blocks that have changed since last backup time and greatly reduce the transferred data size and time for backup. This part of content will guide you through the process of enabling CBT manually in VMware vSphere. Please follow the instructions of VMware and perform the following steps. Here is the setting example for backing up a virtual machine in ESXi to a Synology NAS Power off the virtual machine. You will not be able to successfully complete the setting without powering off the virtual machine. Right-click the virtual machine and click Edit Settings. Click VM Options tab. Click Advanced and then click Edit Configuration next to Configuration Parameters. It will open the Configuration Parameters dialog. Click Add parameters, add the ctkEnabled parameter, and set its value to true. Click Add parameters, add scsi0:0.ctkEnabled, and set its value to true. Whenever a hard drive is added to the virtual machine, a SCSI device will be assigned to the hard drive. scsi0:0 in scsi0:0.ctkEnabled represents the SCSI device, while the others display similar to scsi0:1, or scsi 1:1. You can enable or disable CBT individually on each hard drive. Then, power on the virtual machine, in the home directory of the virtual machine, verify that each drive having CBT enabled has also a vmname-ctk.vmdk file. The instruction above is referring to this website: VMware KB 1031873. It might be subject to change in different versions of VMware vSphere. You may find more up-to-date details regarding enabling CBT in VMware VMs on VMware KB 1031873. After CBT is enabled, the first backup will still be full backup, and the subsequent backups will be incremental backup. About Client VMWare WorkStation Version 15 Use any key below for test: ZC10K-8EF57-084QZ-VXYXE-ZF2XF UF71K-2TW5J-M88QZ-8WMNT-WKUY4 AZ7MK-44Y1J-H819Z-WMYNC-N7ATF CU702-DRD1M-H89GP-JFW5E-YL8X6 YY5EA-00XDJ-480RP-35QQV-XY8F6 VA510-23F57-M85PY-7FN7C-MCRG0 ","link":"http://www.ntlx.top/post/vmware/"},{"title":"Ubuntu Server Installation Note","content":"How to deploy Ubuntu Server operation system to a server or any computer. Download OS image Ubuntu 18.04.5 Server Download Link Create bootable USB drive Rufus 3.14 (Portable) Download Link You can find usage instructions on Rufus Official Web Site. Install System Devices Dependency Plug in the bootable USB drive which created by Rufus &amp; OS image to target server Plug in a screen to target server Plug in a keyboard Connect Power Connect network (optional) Installation Power on. Select language (English). If you see screen as below, choose Continue without updating. Keep the default layout, then choos Done. If you have no specific network requirment, just keep the default network settings, choose Done. Then you'll be in Configure proxy step. Usually, we keep the default settings and just choose Done, but if you want update system through the internet during the installation or you want add some software during the installation, you may need set proxy correct to get some foreign resources. Compared to proxy, set a suitable mirror is far more usefull for system installation (if you need update or add software during the installation from the internet). For convenience, we keep the default setting and choose Done. In Guided storage configuration, move cursor down and uncheck Set up this disk as an LVM group, after this operation, the screen will look like below, then just choose Done. We need a little modify in Storage configuration. You'll see the pic below in this step. Move cursor up to partition 2 (here is only show settings for one disk for example), then hit Enter, the screen will be look like below: Choose Edit and then change Format to xfs, the screen will be look like below: Save settings and choose Done, then choose Continue when you see below: Set suitable info for your system, the screen will be look like below: Recommand set profile like this: Your name: manager Your server's name: ubuntu Pick a username: manager Choose a password: YOURPASSWORD Confirm your password: YOURPASSWORD And the screen will be look like this: In SSH Setup, you need check Install OpenSSH server in order to connect your server through the internet after the system installaion, the screen will be look like below: Don't choose any package in Featured Server Snaps, just choose Done directly. Then you'll see the installation progress screen: When you see screen like below, you can Reboot system and that's all of the basic installation steps (remove USB device may be required, there will be notes on the screen). ","link":"http://www.ntlx.top/post/ubuntu-server-installation-note/"},{"title":"Add Linux to AD","content":"Tested on Ubuntu Host Name cat &gt; /etc/hostname vmpc-ubuntu.cm.com # test hostname hostname -f host vmpc-ubuntu.cm.com host xxx.xxx.xxx.xxx DNS Both hostname and reverse lookup had been set up before further settings. Time Synchronisation The default clock skew tolerance is 300 seconds (5 minutes) cat &gt;&gt; /etc/systemd/timesyncd.conf NTP=ad.cm.com FallbackNTP=ntp.ubuntu.com Test: timedatectl status PBIS-Open Installation Download PowerBroker Identity Service Open &quot;AD Bridge&quot; on Github, then: sudo pbis-open-9.1.0.551.linux.x86_64.deb.sh Add sudo privileges cat &gt; /etc/sudoers.d/local CM\\\\CM021 ALL=(ALL) ALL %CM\\\\domain^admins ALL=(ALL) ALL PBIS-Open Settings Change the default shell (from /bin/sh to /bin/bash): sudo /opt/pbis/bin/config LoginShellTemplate /bin/bash Change home dir (default is /home/local/&lt;Domain Name&gt;/&lt;User Name&gt;): sudo /opt/pbis/bin/config HomeDirTemplate %H/%D/%U %H = home , %D = AD Name , %U = User Name PBIS-Open Commands Join AD: sudo domainjoin-cli join --disable ssh cm.com Administrator Check status: sudo domainjoin-cli query Check users in AD: /opt/pbis/bin/enum-users Check groups in AD: /opt/pbis/bin/enum-groups Check groups for a user: /opt/pbis/bin/list-groups-for-user Leave current AD: sudo domainjoin-cli leave ","link":"http://www.ntlx.top/post/add-linux-to-ad/"},{"title":"Active Directory","content":"Usefull Settings Collection Windows Server 配置文件漫游 路径设置示例：\\\\dsm.cm.com\\Remote\\%username% ","link":"http://www.ntlx.top/post/active-directory/"},{"title":"RSS Collections","content":"Collect Great RSS Sources 少数派 電腦玩物 Mac 玩儿法 爱范儿 小众软件 异次元软件世界 反斗软件 国家地理中文 极客公园 湾区日报 煎蛋 理想生活实验室 编程随想的博客 阮一峰的网络日志 ","link":"http://www.ntlx.top/post/rss-collections/"},{"title":"Docker","content":"Usage &amp; Settings Install Docker in OSs CentOS Ubuntu Windows Mac OS Install Docker Compose Set mirror for registry Add below to /etc/docker/daemon.json { &quot;registry-mirrors&quot; : [ &quot;http://docker.mirrors.ustc.edu.cn&quot; ], &quot;insecure-registries&quot; : [ &quot;docker.mirrors.ustc.edu.cn&quot; ], &quot;debug&quot; : true, &quot;experimental&quot; : true } Set Proxy for container Add below to ~/.docker/config.json { &quot;proxies&quot;: { &quot;default&quot;: { &quot;httpProxy&quot;: &quot;http://xxx:xxx&quot;, &quot;httpsProxy&quot;: &quot;http://xxx:xxx&quot;, &quot;noProxy&quot;: &quot;*.ntlx.top&quot; } } } Tips Clear Docker Logs Reference #!/bin/sh echo &quot;==================== start clean docker containers logs ==========================&quot; logs=$(find /var/lib/docker/containers/ -name *-json.log) for log in $logs do echo &quot;clean logs : $log&quot; cat /dev/null &gt; $log done echo &quot;==================== end clean docker containers logs ==========================&quot; Service Deploy Note Nexus 如果构建的 Docker Image 比较多，推荐自建仓库进行管理 mkdir -p /public/Docker/Nexus chown -R 200 /public/Docker/Nexus docker run -d -p 8081:8081 -v /public/Docker/Nexus:/nexus-data --name nexus sonatype/nexus3 访问 http://Docker.Host.IP:8081 进行配置，账户名为 admin，初始密码在 /public/Docker/Nexus/admin.password 文件里 Nexus 还能作为各种包管理器、数据库甚至脚本的存储仓库，方便进行发布管理 Nexus 支持接入 LDAP 进行多用户管理 Login ERROR Issue: Error saving credentials: error storing credentials - err: exit status 1, out: `Cannot autolaunch D-Bus without X11 $DISPLAY` Fix: dpkg -r --ignore-depends=golang-docker-credential-helpers golang-docker-credential-helpers postgresql docker run -d --name='postgresql' --restart unless-stopped --log-opt max-size=10m -e 'POSTGRES_PASSWORD'='password' -p '5432:5432/tcp' -v './postgresql':'/var/lib/postgresql/data':'rw' 'postgres' wikijs docker run -d --name='wikijs' --restart unless-stopped --log-opt max-size=10m -e 'DB_TYPE'='postgres' -e 'DB_HOST'='10.1.1.4' -e 'DB_PORT'='5432' -e 'DB_USER'='postgres' -e 'DB_PASS'='password' -e 'DB_NAME'='postgres' -e SSL_ACTIVE=true -e LETSENCRYPT_DOMAIN=ntlx.top -e LETSENCRYPT_EMAIL=xxx@outlook.com -p 80:3000 -p 443:3443 'requarks/wiki' aria2 version: &quot;3&quot; services: aria2: image: superng6/aria2 container_name: aria2 restart: unless-stopped environment: - PUID=1000 - PGID=1000 - TZ=Asia/Shanghai - SECRET=YourAria2SecretToken - CACHE=512M - UT=true - RUT=true - QUIET=true - FA=falloc - RECYCLE=true - MOVE=true - SMD=false - ANIDIR=ani - MOVDIR=movies - TVDIR=tv - CUSDIR=Z volumes: - ./config:/config - ./Download:/downloads ports: - 6881:6881 - 6881:6881/udp - 6800:6800 logging: options: max-size: &quot;1m&quot; ariang: image: superng6/ariang container_name: ariang restart: unless-stopped ports: - 8888:80 logging: options: max-size: &quot;1m&quot; Gitea version: &quot;3&quot; networks: gitea: external: false services: server: image: gitea/gitea:latest container_name: gitea restart: always environment: - USER_UID=1000 - USER_GID=1000 - DB_TYPE=postgres - DB_HOST=postgres:5432 - DB_NAME=gitea - DB_USER=gitea - DB_PASSWD=gitea networks: - gitea volumes: - /public/gitea:/data - /etc/timezone:/etc/timezone:ro - /etc/localtime:/etc/localtime:ro ports: - &quot;80:3000&quot; - &quot;222:22&quot; depends_on: - postgres postgres: image: postgres:13 container_name: postgres restart: always environment: - POSTGRES_USER=gitea - POSTGRES_PASSWORD=gitea - POSTGRES_DB=gitea networks: - gitea volumes: - ./postgres:/var/lib/postgresql/data gitlab version: &quot;3&quot; services: gitlab: image: 'gitlab/gitlab-ce' restart: always container_name: gitlab hostname: 'ntlx.top' environment: GITLAB_OMNIBUS_CONFIG: | external_url 'http://ntlx.top:23333' gitlab_rails['gitlab_shell_ssh_port'] = 22222 ports: - '23333:23333' - '22222:22' volumes: - './config:/etc/gitlab' - './logs:/var/log/gitlab' - './data:/var/opt/gitlab' logging: options: max-size: &quot;1m&quot; SMTP Settings If you would rather send application email via an SMTP server instead of via Sendmail, add the following configuration information to /etc/gitlab/gitlab.rb and run gitlab-ctl reconfigure, for example: gitlab_rails['gitlab_email_enabled'] = true gitlab_rails['smtp_enable'] = true gitlab_rails['smtp_address'] = &quot;smtp.xxx.com&quot; gitlab_rails['smtp_port'] = 25 gitlab_rails['smtp_user_name'] = &quot;xxx@xxx.com&quot; gitlab_rails['smtp_password'] = &quot;YourPassword&quot; gitlab_rails['smtp_domain'] = &quot;xxx.com&quot; gitlab_rails['smtp_authentication'] = &quot;login&quot; gitlab_rails['smtp_enable_starttls_auto'] = false gitlab_rails['smtp_tls'] = false gitlab_rails['gitlab_email_from'] = 'xxx@xxx.com' gitlab_rails['gitlab_email_display_name'] = 'xxx GitLab' gitlab_rails['gitlab_email_reply_to'] = 'xxx@xxx.com' NextCloud docker run -d --name='NextCloud' --restart unless-stopped --log-opt max-size=10m -e 'POSTGRES_DB'='nextcloud' -e 'POSTGRES_USER'='postgres' -e 'POSTGRES_PASSWORD'='password' -e 'POSTGRES_HOST'='10.1.1.4' -e 'NEXTCLOUD_TRUSTED_DOMAINS'='ntlx.top:8080' -p '8080:80/tcp' -p '8080:80/udp' -v './NextCloud':'/var/www/html/':'rw' 'nextcloud' FreshRSS docker run -d --name=FreshRSS --log-opt max-size=10m --restart unless-stopped -e PUID=1000 -e PGID=1000 -e TZ=Asia/Shanghai -p 8070:80 -v ./config:/config linuxserver/freshrss Rstudio Server docker run --name &quot;Rstudio&quot; -d --restart unless-stopped --log-opt max-size=10m -p 8787:8787 -p 6311:6311 -v ./RstudioServer/home:/home quantumobject/docker-rstudio Add user docker exec -it Rstudio /bin/bash adduser lx passwd password mkdir /home/lx chmod -R 755 /home/lx PPTP docker run -d --name='PPTP' --net='bridge' --log-opt max-size=10m --privileged=true -e TZ=&quot;Asia/Shanghai&quot; -p '1723:1723/tcp' -p '1723:1723/udp' -v './PPTP/chap-secrets':'/etc/ppp/chap-secrets':'rw' 'mobtitude/vpn-pptp' L2TP modprobe af_key docker run -d --name='L2TP' --net='bridge' --privileged=true -e TZ=&quot;Asia/Shanghai&quot; -p '500:500/tcp' -p '500:500/udp' -p '4500:4500/tcp' -p '4500:4500/udp' -p '1701:1701/tcp' -p '1701:1701/udp' -v '/lib/modules':'/lib/modules':'ro' --env-file ./L2TP/L2TP.env --log-opt max-size=10m 'fcojean/l2tp-ipsec-vpn-server' Cloudflare DDNS Using config file joshava/cloudflare-ddns for x86_64 CPU, joshava/cloudflare-ddns:arm32v6 for pi docker run -d --name=DDNS -v ./CloudflareDDNS/config.yaml:/app/config.yaml joshava/cloudflare-ddns:arm32v6 docker compose version: version: &quot;3&quot; services: ddns: image: joshava/cloudflare-ddns restart: always container_name: ddns volumes: - './CloudflareDDNS/config.yaml:/app/config.yaml' Example config file: auth: scopedToken: xxx domains: - name: xxx type: A proxied: false create: true zoneId: xxx Using env settings tags for arm: arm32v6, armhf, aarch64, arm64v8, latest docker run -d --name=DDNS -e API_KEY=xxx -e ZONE=xxx -e SUBDOMAIN=xxx oznu/cloudflare-ddns ","link":"http://www.ntlx.top/post/docker/"},{"title":"Raspberry Pi","content":"The most popular IoT core! k3s Five years of Raspberry Pi Clusters Initial configure For Official OS: Raspbian Buster (based on Debian) Add blow content to a file, such as ~/init.sh, then just run it like this ~/init.sh. #!/usr/bin/expect -f sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak sudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak cat &lt;&lt; EOF &gt; sources.list deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi EOF cat &lt;&lt; EOF &gt; raspi.list deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui deb-src http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui EOF mkdir -p ~/.pip/ cat &lt;&lt; EOF &gt; ~/.pip/pip.conf [global] index-url = https://pypi.tuna.tsinghua.edu.cn/simple/ EOF sudo cp sources.list /etc/apt/sources.list sudo cp raspi.list /etc/apt/sources.list.d/raspi.list sudo apt update sudo apt upgrade -y sudo apt install -y git vim htop ncdu tmux bash-completion tcl expect sudo apt install -y p7zip-full libio-compress-perl unrar-free unzip ncompress libperlio-gzip-perl bzip2 cat &lt;&lt; EOF &gt;&gt; ~/.bashrc tablook () { column -s $'\\t' -t &quot;\\$1&quot; | less -S } alias les=&quot;less -SN&quot; alias ls=&quot;ls --color=auto&quot; alias l=&quot;ls -a&quot; alias ll=&quot;ls -l&quot; alias lll=&quot;ls -la&quot; alias ..='cd ..' alias ...='cd ../../' alias ....='cd ../../../' alias .....='cd ../../../../' alias ......='cd ../../../../../' # Use mcd to create a directory and cd to it simultaneously: function mcd { mkdir -p &quot;\\$1&quot; &amp;&amp; cd &quot;\\$1&quot;;} # Make grep pretty: alias grep=&quot;grep --color=auto&quot; # Show your \\$PATH in a prettier format: alias showpath='echo \\$PATH | tr &quot;:&quot; &quot;\\n&quot; | nl' # as suggested by Mendel Cooper in &quot;Advanced Bash Scripting Guide&quot; extract () { if [ -f \\$1 ] ; then case \\$1 in *.tar.bz2) tar xvjf \\$1 ;; *.tar.gz) tar xvzf \\$1 ;; *.tar.xz) tar Jxvf \\$1 ;; *.bz2) bunzip2 \\$1 ;; *.rar) unrar x \\$1 ;; *.gz) gunzip \\$1 ;; *.tar) tar xvf \\$1 ;; *.tbz2) tar xvjf \\$1 ;; *.tgz) tar xvzf \\$1 ;; *.zip) unzip \\$1 ;; *.Z) uncompress \\$1 ;; *.7z) 7z x \\$1 ;; *) echo &quot;don't know how to extract '\\$1'...&quot; ;; esac else echo &quot;'\\$1' is not a valid file!&quot; fi } EOF source ~/.bashrc git config --global user.name &quot;NTLx&quot; git config --global user.email &quot;lx3325360@gmail.com&quot; spawn ssh-keygen -t rsa -b 4096 -C &quot;lx3325360@gmail.com&quot; expect &quot;*home*&quot; send &quot;\\n&quot; expect &quot;*empty*&quot; send &quot;\\n&quot; expect &quot;*again*&quot; send &quot;\\n&quot; expect eof # sudo apt install -y zsh zsh-autosuggestions zsh-syntax-highlighting zsh-theme-powerlevel9k remmina remmina-common remmina-dev remmina-plugin-rdp remmina-plugin-vnc fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin # cat &lt;&lt; EOF &gt; ~/.zshrc # source /usr/share/powerlevel9k/powerlevel9k.zsh-theme # source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh # source /usr/share/zsh-autosuggestions/zsh-autosuggestions.zsh # export TERM=&quot;xterm-256color&quot; # POWERLEVEL9K_PROMPT_ON_NEWLINE=true # POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(os_icon user dir_writable dir vcs) # POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status command_execution_time root_indicator background_jobs time disk_usage ram load) # POWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX=&quot;%(?:%{$fg_bold[green]%}➜ :%{$fg_bold[red]%}➜ )&quot; # POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX=&quot;&quot; # POWERLEVEL9K_USER_ICON=&quot;\\uF415&quot; # &lt;U+F415&gt; # POWERLEVEL9K_ROOT_ICON=&quot;\\uF09C&quot; # POWERLEVEL9K_SUDO_ICON=$'\\uF09C' # &lt;U+F09C&gt; # POWERLEVEL9K_TIME_FORMAT=&quot;%D{%H:%M}&quot; # POWERLEVEL9K_VCS_GIT_ICON='\\uF408' # POWERLEVEL9K_VCS_GIT_GITHUB_ICON='\\uF408' # EOF echo 'You can now reboot your rpi to take effect, Good Luck!' Install Docker curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun sudo usermod -aG docker pi Install Docker Compose sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose OR sudo apt install -y libssl-dev libffi-dev sudo apt install -y python3-pip pip3 install docker-compose Additional Settings Especially for Raspbian Buster Lite Default user: pi Default user password: raspberry Turn on SSH: sudo raspi-config, choose 5 Interface Options, then choose SSH to enable. Connect WiFi: sudo raspi-config, choose 2 Network Options, then choose N2 Wi-fi and enter SSID &amp; password to connect. CPU Temprature Could just write a perl script to check, like CPU.pl: #!/usr/bin/perl while(1) { print `cat /sys/class/thermal/thermal_zone0/temp`/1000; &lt;STDIN&gt;; } Manjaro For ARM Download system file Download system installation mirror files at OSDN, you can choose form minimal, xfce, kde-plasma, mate and lxqt. Flash to TF card Use Etcher or dd command described below: find portable device in Mac OS (use diskutil list) or Linux (use lsblk or df or something), for example /dev/disk2. Unmount portable device on Mac OS (diskutil unmountDisk /dev/disk2) or Linux (umount /dev/sdb). Use command dd to flash a system file to portable device like below: sudo dd if=path/to/img_or_iso of=/dev/disk2 bs=4m;sync Remember to eject the portable device after above steps on Mac OS (diskutil eject /dev/disk2) or Linux (eject -s /dev/disk2). Choose mirror For users in China, Denmark is the fastest mirror currently. sudo pacman-mirrors -c Denmark -m rank [-i] Instalation Script sudo cp /etc/pacman.conf /etc/pacman.conf.bak cat &lt;&lt; EOF &gt; ~/pacman.conf [options] HoldPkg = pacman glibc manjaro-system XferCommand = /usr/bin/curl -x http://192.168.120.63:8888 -C - -f %u --output %o Architecture = aarch64 CheckSpace VerbosePkgLists SigLevel = Required DatabaseOptional LocalFileSigLevel = Optional [core] Include = /etc/pacman.d/mirrorlist [extra] Include = /etc/pacman.d/mirrorlist [community] Include = /etc/pacman.d/mirrorlist EOF sudo cp ~/pacman.conf /etc/pacman.conf git config --global http.proxy http://192.168.120.63:8888 git config --global https.proxy http://192.168.120.63:8888 export http_proxy=&quot;http://192.168.120.63:8888&quot;; export https_proxy=&quot;http://192.168.120.63:8888&quot;; export ftp_proxy=&quot;http://192.168.120.63:8888&quot; sudo pacman-mirrors -c United_States -m rank sudo pacman -Syyu sudo pacman -S patch pkgconf fakeroot autoconf automake make cmake gcc clang vim yay wqy-microhei binutils nasm yay -S xrdp sudo systemctl enable xrdp.service sudo systemctl start xrdp.service sudo pacman -S remmina # sudo pacman -S patch pkgconf fakeroot autoconf automake make cmake gcc clang vim yay wqy-microhei freerdp remmina # yay -S xrdp xorgxrdp remmina-plugin-rdesktop remmina # libtool --finish /usr/lib/xrdp # libtool --finish /usr/lib/xorg/modules/input Windows IoT For ARM Download system Go to UUP dump, choose a system version (arm64), and choose Download using aria2 and convert, get the generated *.zip file, extract it, then run *.cmd under a windows system, you will get the *.iso system mirror file. Deploy system to TF card First, download WOA. Then, open system file (*.iso), and choose source/install.wim as source for deploying. Software Aria2 &amp; NG git clone git@github.com:NTLx/aira2-ng.git docker build -t aira2webui-ng aira2-ng mkdir -p /home/pi/Download /home/pi/aria2_conf docker run -d --name='aria2' -p '6800:6800/tcp' -p '6800:6800/udp' -p '80:80/tcp' -p '80:80/udp' -v '/home/pi/Download':'/data':'rw' -v '/home/pi/aria2_conf':'/config':'rw' aira2webui-ng Disk sudo mkfs.xfs -f /dev/sda1 SMB sudo /etc/init.d/smbd restart sudo /etc/init.d/nmbd restart Service Dploy (by Docker) PostgreSQL docker run -d --name='postgresql' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e 'POSTGRES_PASSWORD'='password' -p '5432:5432/tcp' -v '/home/pi/postgresql':'/var/lib/postgresql/data':'rw' 'postgres' ","link":"http://www.ntlx.top/post/raspberry-pi/"},{"title":"ZSH","content":"ZSH Installation &amp; Settings Notes Configure based on Oh my Zsh sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot; cd ~/.oh-my-zsh/custom/plugins git clone https://github.com/zsh-users/zsh-syntax-highlighting.git cd ~/.oh-my-zsh/custom/themes git clone https://github.com/romkatv/powerlevel10k.git echo &quot;ZSH_THEME=powerlevel10k/powerlevel10k&quot; &gt;&gt; ~/.zshrc p10k configure # For Mac OS: cd ~/.oh-my-zsh/custom/plugins git clone https://github.com/scriptingosx/mac-zsh-completions.git Edit ~/.zshrc for setting: ZSH_THEME=powerlevel10k/powerlevel10k plugins=(git zsh-syntax-highlighting zsh-completions) autoload -U compinit &amp;&amp; compinit # For Mac OS: plugins=(... mac-zsh-completions) Default Settings within Popular OSs Manjaro Architect /etc/zsh/zprofile emulate sh -c 'source /etc/profile' ~/.zshrc ## Options section setopt correct # Auto correct mistakes setopt extendedglob # Extended globbing. Allows using regular expressions with * setopt nocaseglob # Case insensitive globbing setopt rcexpandparam # Array expension with parameters setopt nocheckjobs # Don't warn about running processes when exiting setopt numericglobsort # Sort filenames numerically when it makes sense setopt nobeep # No beep setopt appendhistory # Immediately append history instead of overwriting setopt histignorealldups # If a new command is a duplicate, remove the older one setopt autocd # if only directory path is entered, cd there. zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}' # Case insensitive tab completion zstyle ':completion:*' list-colors &quot;${(s.:.)LS_COLORS}&quot; # Colored completion (different colors for dirs/files/etc) zstyle ':completion:*' rehash true # automatically find new executables in path # Speed up completions zstyle ':completion:*' accept-exact '*(N)' zstyle ':completion:*' use-cache on zstyle ':completion:*' cache-path ~/.zsh/cache HISTFILE=~/.zhistory HISTSIZE=1000 SAVEHIST=500 #export EDITOR=/usr/bin/nano #export VISUAL=/usr/bin/nano WORDCHARS=${WORDCHARS//\\/[&amp;.;]} # Don't consider certain characters part of the word ## Keybindings section bindkey -e bindkey '^[[7~' beginning-of-line # Home key bindkey '^[[H' beginning-of-line # Home key if [[ &quot;${terminfo[khome]}&quot; != &quot;&quot; ]]; then bindkey &quot;${terminfo[khome]}&quot; beginning-of-line # [Home] - Go to beginning of line fi bindkey '^[[8~' end-of-line # End key bindkey '^[[F' end-of-line # End key if [[ &quot;${terminfo[kend]}&quot; != &quot;&quot; ]]; then bindkey &quot;${terminfo[kend]}&quot; end-of-line # [End] - Go to end of line fi bindkey '^[[2~' overwrite-mode # Insert key bindkey '^[[3~' delete-char # Delete key bindkey '^[[C' forward-char # Right key bindkey '^[[D' backward-char # Left key bindkey '^[[5~' history-beginning-search-backward # Page up key bindkey '^[[6~' history-beginning-search-forward # Page down key # Navigate words with ctrl+arrow keys bindkey '^[Oc' forward-word # bindkey '^[Od' backward-word # bindkey '^[[1;5D' backward-word # bindkey '^[[1;5C' forward-word # bindkey '^H' backward-kill-word # delete previous word with ctrl+backspace bindkey '^[[Z' undo # Shift+tab undo last action ## Alias section alias cp=&quot;cp -i&quot; # Confirm before overwriting something alias df='df -h' # Human-readable sizes alias free='free -m' # Show sizes in MB alias gitu='git add . &amp;&amp; git commit &amp;&amp; git push' # Theming section autoload -U compinit colors zcalc compinit -d colors # enable substitution for prompt setopt prompt_subst # Prompt (on left side) similar to default bash prompt, or redhat zsh prompt with colors #PROMPT=&quot;%(!.%{$fg[red]%}[%n@%m %1~]%{$reset_color%}# .%{$fg[green]%}[%n@%m %1~]%{$reset_color%}$ &quot; # Maia prompt PROMPT=&quot;%B%{$fg[cyan]%}%(4~|%-1~/.../%2~|%~)%u%b &gt;%{$fg[cyan]%}&gt;%B%(?.%{$fg[cyan]%}.%{$fg[red]%})&gt;%{$reset_color%}%b &quot; # Print some system information when the shell is first started # Print a greeting message when shell is started echo $USER@$HOST $(uname -srm) $(lsb_release -rcs) ## Prompt on right side: # - shows status of git when in git repository (code adapted from https://techanic.net/2012/12/30/my_git_prompt_for_zsh.html) # - shows exit status of previous command (if previous command finished with an error) # - is invisible, if neither is the case # Modify the colors and symbols in these variables as desired. GIT_PROMPT_SYMBOL=&quot;%{$fg[blue]%}±&quot; # plus/minus - clean repo GIT_PROMPT_PREFIX=&quot;%{$fg[green]%}[%{$reset_color%}&quot; GIT_PROMPT_SUFFIX=&quot;%{$fg[green]%}]%{$reset_color%}&quot; GIT_PROMPT_AHEAD=&quot;%{$fg[red]%}ANUM%{$reset_color%}&quot; # A&quot;NUM&quot; - ahead by &quot;NUM&quot; commits GIT_PROMPT_BEHIND=&quot;%{$fg[cyan]%}BNUM%{$reset_color%}&quot; # B&quot;NUM&quot; - behind by &quot;NUM&quot; commits GIT_PROMPT_MERGING=&quot;%{$fg_bold[magenta]%}⚡︎%{$reset_color%}&quot; # lightning bolt - merge conflict GIT_PROMPT_UNTRACKED=&quot;%{$fg_bold[red]%}●%{$reset_color%}&quot; # red circle - untracked files GIT_PROMPT_MODIFIED=&quot;%{$fg_bold[yellow]%}●%{$reset_color%}&quot; # yellow circle - tracked files modified GIT_PROMPT_STAGED=&quot;%{$fg_bold[green]%}●%{$reset_color%}&quot; # green circle - staged changes present = ready for &quot;git push&quot; parse_git_branch() { # Show Git branch/tag, or name-rev if on detached head ( git symbolic-ref -q HEAD || git name-rev --name-only --no-undefined --always HEAD ) 2&gt; /dev/null } parse_git_state() { # Show different symbols as appropriate for various Git repository states # Compose this value via multiple conditional appends. local GIT_STATE=&quot;&quot; local NUM_AHEAD=&quot;$(git log --oneline @{u}.. 2&gt; /dev/null | wc -l | tr -d ' ')&quot; if [ &quot;$NUM_AHEAD&quot; -gt 0 ]; then GIT_STATE=$GIT_STATE${GIT_PROMPT_AHEAD//NUM/$NUM_AHEAD} fi local NUM_BEHIND=&quot;$(git log --oneline ..@{u} 2&gt; /dev/null | wc -l | tr -d ' ')&quot; if [ &quot;$NUM_BEHIND&quot; -gt 0 ]; then GIT_STATE=$GIT_STATE${GIT_PROMPT_BEHIND//NUM/$NUM_BEHIND} fi local GIT_DIR=&quot;$(git rev-parse --git-dir 2&gt; /dev/null)&quot; if [ -n $GIT_DIR ] &amp;&amp; test -r $GIT_DIR/MERGE_HEAD; then GIT_STATE=$GIT_STATE$GIT_PROMPT_MERGING fi if [[ -n $(git ls-files --other --exclude-standard 2&gt; /dev/null) ]]; then GIT_STATE=$GIT_STATE$GIT_PROMPT_UNTRACKED fi if ! git diff --quiet 2&gt; /dev/null; then GIT_STATE=$GIT_STATE$GIT_PROMPT_MODIFIED fi if ! git diff --cached --quiet 2&gt; /dev/null; then GIT_STATE=$GIT_STATE$GIT_PROMPT_STAGED fi if [[ -n $GIT_STATE ]]; then echo &quot;$GIT_PROMPT_PREFIX$GIT_STATE$GIT_PROMPT_SUFFIX&quot; fi } git_prompt_string() { local git_where=&quot;$(parse_git_branch)&quot; # If inside a Git repository, print its branch and state [ -n &quot;$git_where&quot; ] &amp;&amp; echo &quot;$GIT_PROMPT_SYMBOL$(parse_git_state)$GIT_PROMPT_PREFIX%{$fg[yellow]%}${git_where#(refs/heads/|tags/)}$GIT_PROMPT_SUFFIX&quot; # If not inside the Git repo, print exit codes of last command (only if it failed) [ ! -n &quot;$git_where&quot; ] &amp;&amp; echo &quot;%{$fg[red]%} %(?..[%?])&quot; } # Right prompt with exit status of previous command if not successful #RPROMPT=&quot;%{$fg[red]%} %(?..[%?])&quot; # Right prompt with exit status of previous command marked with ✓ or ✗ #RPROMPT=&quot;%(?.%{$fg[green]%}✓ %{$reset_color%}.%{$fg[red]%}✗ %{$reset_color%})&quot; # Color man pages export LESS_TERMCAP_mb=$'\\E[01;32m' export LESS_TERMCAP_md=$'\\E[01;32m' export LESS_TERMCAP_me=$'\\E[0m' export LESS_TERMCAP_se=$'\\E[0m' export LESS_TERMCAP_so=$'\\E[01;47;34m' export LESS_TERMCAP_ue=$'\\E[0m' export LESS_TERMCAP_us=$'\\E[01;36m' export LESS=-r ## Plugins section: Enable fish style features # Use syntax highlighting source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh # Use history substring search source /usr/share/zsh/plugins/zsh-history-substring-search/zsh-history-substring-search.zsh # bind UP and DOWN arrow keys to history substring search zmodload zsh/terminfo bindkey &quot;$terminfo[kcuu1]&quot; history-substring-search-up bindkey &quot;$terminfo[kcud1]&quot; history-substring-search-down bindkey '^[[A' history-substring-search-up bindkey '^[[B' history-substring-search-down # Apply different settigns for different terminals case $(basename &quot;$(cat &quot;/proc/$PPID/comm&quot;)&quot;) in login) RPROMPT=&quot;%{$fg[red]%} %(?..[%?])&quot; alias x='startx ~/.xinitrc' # Type name of desired desktop after x, xinitrc is configured for it ;; # 'tmux: server') # RPROMPT='$(git_prompt_string)' # ## Base16 Shell color themes. # #possible themes: 3024, apathy, ashes, atelierdune, atelierforest, atelierhearth, # #atelierseaside, bespin, brewer, chalk, codeschool, colors, default, eighties, # #embers, flat, google, grayscale, greenscreen, harmonic16, isotope, londontube, # #marrakesh, mocha, monokai, ocean, paraiso, pop (dark only), railscasts, shapesifter, # #solarized, summerfruit, tomorrow, twilight # #theme=&quot;eighties&quot; # #Possible variants: dark and light # #shade=&quot;dark&quot; # #BASE16_SHELL=&quot;/usr/share/zsh/scripts/base16-shell/base16-$theme.$shade.sh&quot; # #[[ -s $BASE16_SHELL ]] &amp;&amp; source $BASE16_SHELL # # Use autosuggestion # source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh # ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20 # ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=8' # ;; *) RPROMPT='$(git_prompt_string)' # Use autosuggestion source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20 ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=8' ;; esac ","link":"http://www.ntlx.top/post/zsh/"},{"title":"Mac OS","content":"Usage or Setting Notes General Settings in Terminal alias his=&quot;history | awk '{CMD[\\$2]++;count++;}END{for (a in CMD)print CMD[a]\\&quot; \\&quot;CMD[a]/count*100\\&quot;% \\&quot;a;}' | grep -v \\&quot;./\\&quot; | column -c3 -s \\&quot; \\&quot; -t | sort -nr | nl | head -n10&quot; ","link":"http://www.ntlx.top/post/mac-os/"},{"title":"Self-host Matomo","content":"Deploy Matomo with Docker Compose version: &quot;2&quot; services: mariadb: image: &quot;docker.io/bitnami/mariadb:10.3-debian-10&quot; container_name: mariadb environment: - ALLOW_EMPTY_PASSWORD=yes - MARIADB_USER=bn_matomo - MARIADB_DATABASE=bitnami_matomo # Flag necessary for the database max allowed packet check # https://matomo.org/faq/troubleshooting/faq_183/ - MARIADB_EXTRA_FLAGS=--max_allowed_packet=64MB volumes: - &quot;./mariadb:/bitnami/mariadb&quot; logging: options: max-size: &quot;1m&quot; matomo: image: &quot;docker.io/bitnami/matomo&quot; container_name: matomo ports: - &quot;3002:8080&quot; - &quot;3003:8443&quot; environment: - MATOMO_DATABASE_HOST=mariadb - MATOMO_DATABASE_PORT_NUMBER=3306 - MATOMO_DATABASE_USER=bn_matomo - MATOMO_DATABASE_NAME=bitnami_matomo - ALLOW_EMPTY_PASSWORD=yes - MATOMO_USERNAME=xxx - MATOMO_PASSWORD=xxx - MATOMO_EMAIL=xxx@outlook.com - MATOMO_WEBSITE_NAME=&quot;xxx&quot; - MATOMO_WEBSITE_HOST=xxx:3002 volumes: - &quot;./matomo:/bitnami/matomo&quot; depends_on: - mariadb logging: options: max-size: &quot;1m&quot; ","link":"http://www.ntlx.top/post/self-host-matomo/"},{"title":"Self-host Ghost","content":"Deploy Ghost with Docker Compose version: '3.1' services: ghost: image: ghost:alpine restart: always ports: - 2368:2368 environment: # this url value is just an example, and is likely wrong for your environment! url: http://192.168.0.120:2368 # contrary to the default mentioned in the linked documentation, this image defaults to NODE_ENV=production (so development mode needs to be explicitly specified if desired) #NODE_ENV: development volumes: - ./content:/var/lib/ghost/content ","link":"http://www.ntlx.top/post/self-host-ghost/"},{"title":"Windows System Settings","content":"Settings for a brand new installation of Windows OS. Activate Windows According How to activate Windows Server without product key. Auto Activate Script Windows 10 Pro slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX slmgr /skms kms8.msguides.com slmgr /ato Windows 10 Enterprise slmgr /ipk NPPR9-FWDCX-D2C8J-H872K-2YT43 slmgr /skms kms8.msguides.com slmgr /ato Manually installing KMS client key to activate Windows Step 1 Get the right product key from the official article of Microsoft. Windows Server Semi-Annual Channel versions Windows Server, version 1903 and Windows Server, version 1809 Operating system edition KMS Client Setup Key Windows Server Datacenter 6NMRW-2C8FM-D24W7-TQWMY-CWH2D Windows Server Standard N2KJX-J94YW-TQVFB-DG9YT-724CC Windows Server, version 1803 Operating system edition KMS Client Setup Key Windows Server Datacenter 2HXDN-KRXHB-GPYC7-YCKFJ-7FVDG Windows Server Standard PTXN8-JFHJM-4WC78-MPCBR-9W4KR Windows Server, version 1709 Operating system edition KMS Client Setup Key Windows Server Datacenter 6Y6KB-N82V8-D8CQV-23MJW-BWTG6 Windows Server Standard DPCNP-XQFKJ-BJF7R-FRC8D-GF6G4 Windows Server LTSC/LTSB versions Windows Server 2019 Operating system edition KMS Client Setup Key Windows Server 2019 Datacenter WMDGN-G9PQG-XVVXX-R3X43-63DFG Windows Server 2019 Standard N69G4-B89J2-4G8F4-WWYCC-J464C Windows Server 2019 Essentials WVDHN-86M7X-466P6-VHXV7-YY726 Windows Server 2016 Operating system edition KMS Client Setup Key Windows Server 2016 Datacenter CB7KF-BWN84-R7R2Y-793K2-8XDDG Windows Server 2016 Standard WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY Windows Server 2016 Essentials JCKRF-N37P4-C2D82-9YXRT-4M63B Windows 10, all supported Semi-Annual Channel versions See the Windows lifecycle fact sheet for information about supported versions and end of service dates. Operating system edition KMS Client Setup Key Windows 10 Pro W269N-WFGWX-YVC9B-4J6C9-T83GX Windows 10 Pro N MH37W-N47XK-V7XM9-C7227-GCQG9 Windows 10 Pro for Workstations NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J Windows 10 Pro for Workstations N 9FNHH-K3HBT-3W4TD-6383H-6XYWF Windows 10 Pro Education 6TP4R-GNPTD-KYYHQ-7B7DP-J447Y Windows 10 Pro Education N YVWGF-BXNMC-HTQYQ-CPQ99-66QFC Windows 10 Education NW6C2-QMPVW-D7KKK-3GKT6-VCFB2 Windows 10 Education N 2WH4N-8QGBV-H22JP-CT43Q-MDWWJ Windows 10 Enterprise NPPR9-FWDCX-D2C8J-H872K-2YT43 Windows 10 Enterprise N DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4 Windows 10 Enterprise G YYVX9-NTFWV-6MDM3-9PT4T-4M68B Windows 10 Enterprise G N 44RPN-FTY23-9VTTB-MP9BX-T84FV Windows 10 LTSC/LTSB versions Windows 10 LTSC 2019 Operating system edition KMS Client Setup Key Windows 10 Enterprise LTSC 2019 M7XTQ-FN8P6-TTKYV-9D4CC-J462D Windows 10 Enterprise N LTSC 2019 92NFX-8DJQP-P6BBQ-THF9C-7CG2H Windows 10 LTSB 2016 Operating system edition KMS Client Setup Key Windows 10 Enterprise LTSB 2016 DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ Windows 10 Enterprise N LTSB 2016 QFFDN-GRT3P-VKWWX-X7T3R-8B639 Windows 10 LTSB 2015 Operating system edition KMS Client Setup Key Windows 10 Enterprise 2015 LTSB WNMTR-4C88C-JK8YV-HQ7T2-76DF9 Windows 10 Enterprise 2015 LTSB N 2F77B-TNFGY-69QQF-B8YKP-D69TJ Earlier versions of Windows Server Windows Server 2012 R2 Operating system edition KMS Client Setup Key Windows Server 2012 R2 Server Standard D2N9P-3P6X9-2R39C-7RTCD-MDVJX Windows Server 2012 R2 Datacenter W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9 Windows Server 2012 R2 Essentials KNC87-3J2TX-XB4WP-VCPJV-M4FWM Windows Server 2012 Operating system edition KMS Client Setup Key Windows Server 2012 BN3D2-R7TKB-3YPBD-8DRP2-27GG4 Windows Server 2012 N 8N2M2-HWPGY-7PGT9-HGDD8-GVGGY Windows Server 2012 Single Language 2WN2H-YGCQR-KFX6K-CD6TF-84YXQ Windows Server 2012 Country Specific 4K36P-JN4VD-GDC6V-KDT89-DYFKP Windows Server 2012 Server Standard XC9B7-NBPP2-83J2H-RHMBY-92BT4 Windows Server 2012 MultiPoint Standard HM7DN-YVMH3-46JC3-XYTG7-CYQJJ Windows Server 2012 MultiPoint Premium XNH6W-2V9GX-RGJ4K-Y8X6F-QGJ2G Windows Server 2012 Datacenter 48HP8-DN98B-MYWDG-T2DCC-8W83P Windows Server 2008 R2 Operating system edition KMS Client Setup Key Windows Server 2008 R2 Web 6TPJF-RBVHG-WBW2R-86QPH-6RTM4 Windows Server 2008 R2 HPC edition TT8MH-CG224-D3D7Q-498W2-9QCTX Windows Server 2008 R2 Standard YC6KT-GKW9T-YTKYR-T4X34-R7VHC Windows Server 2008 R2 Enterprise 489J6-VHDMP-X63PK-3K798-CPX3Y Windows Server 2008 R2 Datacenter 74YFP-3QFB3-KQT8W-PMXWJ-7M648 Windows Server 2008 R2 for Itanium-based Systems GT63C-RJFQ3-4GMB6-BRFB9-CB83V Windows Server 2008 Operating system edition KMS Client Setup Key Windows Web Server 2008 WYR28-R7TFJ-3X2YQ-YCY4H-M249D Windows Server 2008 Standard TM24T-X9RMF-VWXK6-X8JC9-BFGM2 Windows Server 2008 Standard without Hyper-V W7VD6-7JFBR-RX26B-YKQ3Y-6FFFJ Windows Server 2008 Enterprise YQGMW-MPWTJ-34KDK-48M3W-X4Q6V Windows Server 2008 Enterprise without Hyper-V 39BXF-X8Q23-P2WWT-38T2F-G3FPG Windows Server 2008 HPC RCTX3-KWVHP-BR6TB-RB6DM-6X7HP Windows Server 2008 Datacenter 7M67G-PC374-GR742-YH8V4-TCBY3 Windows Server 2008 Datacenter without Hyper-V 22XQ2-VRXRG-P8D42-K34TD-G3QQC Windows Server 2008 for Itanium-Based Systems 4DWFP-JF3DJ-B7DTH-78FJB-PDRHK Earlier versions of Windows Windows 8.1 Operating system edition KMS Client Setup Key Windows 8.1 Pro GCRJD-8NW9H-F2CDX-CCM8D-9D6T9 Windows 8.1 Pro N HMCNV-VVBFX-7HMBH-CTY9B-B4FXY Windows 8.1 Enterprise MHF9N-XY6XB-WVXMC-BTDCT-MKKG7 Windows 8.1 Enterprise N TT4HM-HN7YT-62K67-RGRQJ-JFFXW Windows 8 Operating system edition KMS Client Setup Key Windows 8 Pro NG4HW-VH26C-733KW-K6F98-J8CK4 Windows 8 Pro N XCVCF-2NXM9-723PB-MHCB7-2RYQQ Windows 8 Enterprise 32JNW-9KQ84-P47T8-D8GGY-CWCK7 Windows 8 Enterprise N JMNMF-RHW7P-DMY6X-RF3DR-X2BQT Windows 7 Operating system edition KMS Client Setup Key Windows 7 Professional FJ82H-XT6CR-J8D7P-XQJJ2-GPDD4 Windows 7 Professional N MRPKT-YTG23-K7D7T-X2JMM-QY7MG Windows 7 Professional E W82YF-2Q76Y-63HXB-FGJG9-GF7QX Windows 7 Enterprise 33PXH-7Y6KF-2VJC9-XBBR8-HVTHH Windows 7 Enterprise N YDRBP-3D83W-TY26F-D46B2-XCKRJ Windows 7 Enterprise E C29WB-22CC8-VJ326-GHFJW-H9DH4 Step 2 Install the key on your system. To open command prompt, right-click on the Windows button then select “Command prompt (Admin)” line. Then, enter “slmgr /ipk CLIENTKEY” in the command window. Note: each command is followed by hitting Enter. Step 3 Set the KMS server. Enter “slmgr /skms kms8.msguides.com” in the window. Step 4. Activate the KMS client key. Finally, use the command ““slmgr /ato” to activate your Windows. Active Microsoft Office Office 2019 Add a *.bat file, content with: @echo off (cd /d &quot;%~dp0&quot;)&amp;&amp;(NET FILE||(powershell start-process -FilePath '%0' -verb runas)&amp;&amp;(exit /B)) &gt;NUL 2&gt;&amp;1 title Office 2019 Activator r/Piracy echo Converting... &amp; mode 40,25 (if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot;)&amp;(if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot;)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\ProPlus2019VL*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\ProPlus2019VL*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul) cscript //nologo ospp.vbs /unpkey:6MWKP &gt;nul&amp;cscript //nologo ospp.vbs /inpkey:NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP &gt;nul&amp;set i=1 :server if %i%==1 set KMS_Sev=kms7.MSGuides.com if %i%==2 set KMS_Sev=kms8.MSGuides.com if %i%==3 set KMS_Sev=kms9.MSGuides.com cscript //nologo ospp.vbs /sethst:%KMS_Sev% &gt;nul echo %KMS_Sev% &amp; echo Activating... cscript //nologo ospp.vbs /act | find /i &quot;successful&quot; &amp;&amp; (echo Complete) || (echo Trying another KMS Server &amp; set /a i+=1 &amp; goto server) pause &gt;nul exit Run this *.bat file using administrator, done. Key: W8W6K-3N7KK-PXB9H-8TD8W-BWTH9（零售版）N9J9Q-Q7MMP-XDDM6-63KKP-76FPM（批量版）may still available. Active Microsoft Visio Visio 2019 Activation Add a *.bat file, content with: @echo off title Activate Microsoft Visio 2019&amp;cls&amp;echo ============================================================================&amp;echo #Visio: Activating Microsoft software products for FREE without software&amp;echo ============================================================================&amp;echo.&amp;echo #Supported products:&amp;echo - Microsoft Visio Standard 2019&amp;echo - Microsoft Visio Professional Plus 2019&amp;echo.&amp;echo.&amp;(if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot;)&amp;(if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot;)&amp;cscript //nologo ospp.vbs /inslic:&quot;..\\root\\Licenses16\\pkeyconfig-office.xrm-ms&quot; &gt;nul&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\client-issuance*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\visioprovl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\visiopro2019vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;echo.&amp;echo ============================================================================&amp;echo 正在尝试激活...&amp;cscript //nologo ospp.vbs /unpkey:7VCBB &gt;nul&amp;cscript //nologo ospp.vbs /inpkey:9BGNQ-K37YR-RQHF2-38RQ3-7VCBB &gt;nul&amp;set i=1 :server if %i%==1 set KMS_Sev=kms8.MSGuides.com if %i%==2 set KMS_Sev=kms9.MSGuides.com if %i%==3 set KMS_Sev=kms7.MSGuides.com if %i%==4 goto notsupported cscript //nologo ospp.vbs /sethst:%KMS_Sev% &gt;nul&amp;echo ============================================================================&amp;echo.&amp;echo. cscript //nologo ospp.vbs /act | find /i &quot;successful&quot; &amp;&amp; (echo 已完成，按任意键退出) || (echo 连接KMS服务器失败! 试图连接到另一个… &amp; echo 请等待... &amp; echo. &amp; echo. &amp; set /a i+=1 &amp; goto server) pause &gt;nul exit Run this *.bat file using administrator, done. Key: YQGTJ-44NB6-KBYR3-388HG-KTQ4K or 3BP7N-Y28TF-9YMM8-4JY2B-7MKH9 may still available. Active Microsoft Project Project Professional 2019 VL Activation Add a *.bat file, content with: @echo off title Activate Microsoft Project 2019&amp;cls&amp;echo ============================================================================&amp;echo #Project: Activating Microsoft software products for FREE without software&amp;echo ============================================================================&amp;echo.&amp;echo #Supported products:&amp;echo - Microsoft Project Standard 2019&amp;echo - Microsoft Project Professional 2019&amp;echo.&amp;echo.&amp;(if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot;)&amp;(if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot;)&amp;cscript //nologo ospp.vbs /inslic:&quot;..\\root\\Licenses16\\pkeyconfig-office.xrm-ms&quot; &gt;nul&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\client-issuance*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\Project???vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\Project???vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;echo.&amp;echo ============================================================================&amp;echo 正在尝试激活...&amp;cscript //nologo ospp.vbs /unpkey:PKD2B &gt;nul&amp;cscript //nologo ospp.vbs /inpkey:B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B &gt;nul&amp;set i=1 :server if %i%==1 set KMS_Sev=kms8.MSGuides.com if %i%==2 set KMS_Sev=kms9.MSGuides.com if %i%==3 set KMS_Sev=kms7.MSGuides.com if %i%==4 goto notsupported cscript //nologo ospp.vbs /sethst:%KMS_Sev% &gt;nul&amp;echo ============================================================================&amp;echo.&amp;echo. cscript //nologo ospp.vbs /act | find /i &quot;successful&quot; &amp;&amp; (echo 已完成，按任意键退出) || (echo 连接KMS服务器失败! 试图连接到另一个… &amp; echo 请等待... &amp; echo. &amp; echo. &amp; set /a i+=1 &amp; goto server) pause &gt;nul exit echo 进入目录 if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot; if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot; echo 重置Project2016零售激活... cscript ospp.vbs /rearm echo 安装 KMS 许可证... for /f %%x in ('dir /b ..\\root\\Licenses16\\project???vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul echo 安装 MAK 许可证... for /f %%x in ('dir /b ..\\root\\Licenses16\\project???vl_mak*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul # 设置自建kms服务的地址或者域名，网络中搜到的也一样 cscript ospp.vbs /sethst:kms9.MSGuides.com # 安装从上述链接中得到的对应的Office或者Project或者Project的key cscript ospp.vbs /inpkey:B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B # 激活 cscript ospp.vbs /act # 查看激活状态 cscript ospp.vbs /dstatus Run this *.bat file using administrator, done. KMS Key Collection Microsoft Office 2019 Vol 版 Gvlk 密钥（KMS 激活专用）产品秘钥 Office Professional Plus 2019：NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP Office Standard 2019：6NWWJ-YQWMR-QKGCB-6TMB3-9D9HK Project Professional 2019：B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B Project Standard 2019：C4F7P-NCP8C-6CQPT-MQHV9-JXD2M Visio Professional 2019：9BGNQ-K37YR-RQHF2-38RQ3-7VCBB KMS Server Deploy a KMS Server on Linux: #!/usr/bin/env bash # # Auto install KMS Server # System Required: CentOS 6+, Debian7+, Ubuntu12+ # Copyright (C) 2017-2018 Teddysun &lt;i@teddysun.com&gt; # URL: https://teddysun.com/530.html # # Thanks: https://github.com/Wind4/vlmcsd # red='\\033[0;31m' green='\\033[0;32m' yellow='\\033[0;33m' plain='\\033[0m' cur_dir=$(pwd) [[ $EUID -ne 0 ]] &amp;&amp; echo -e &quot;${red}Error:${plain} This script must be run as root!&quot; &amp;&amp; exit 1 if [ -f /etc/redhat-release ]; then release=&quot;centos&quot; elif grep -Eqi &quot;debian&quot; /etc/issue; then release=&quot;debian&quot; elif grep -Eqi &quot;ubuntu&quot; /etc/issue; then release=&quot;ubuntu&quot; elif grep -Eqi &quot;centos|red hat|redhat&quot; /etc/issue; then release=&quot;centos&quot; elif grep -Eqi &quot;debian&quot; /proc/version; then release=&quot;debian&quot; elif grep -Eqi &quot;ubuntu&quot; /proc/version; then release=&quot;ubuntu&quot; elif grep -Eqi &quot;centos|red hat|redhat&quot; /proc/version; then release=&quot;centos&quot; else release=&quot;&quot; fi boot_start(){ if [[ x&quot;${release}&quot; == x&quot;debian&quot; || x&quot;${release}&quot; == x&quot;ubuntu&quot; ]]; then update-rc.d -f &quot;${1}&quot; defaults elif [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then chkconfig --add &quot;${1}&quot; chkconfig &quot;${1}&quot; on fi } boot_stop(){ if [[ x&quot;${release}&quot; == x&quot;debian&quot; || x&quot;${release}&quot; == x&quot;ubuntu&quot; ]]; then update-rc.d -f &quot;${1}&quot; remove elif [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then chkconfig &quot;${1}&quot; off chkconfig --del &quot;${1}&quot; fi } # Get version getversion(){ if [[ -s /etc/redhat-release ]]; then grep -oE &quot;[0-9.]+&quot; /etc/redhat-release else grep -oE &quot;[0-9.]+&quot; /etc/issue fi } # CentOS version centosversion(){ if [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then local code=$1 local version=&quot;$(getversion)&quot; local main_ver=${version%%.*} if [ &quot;$main_ver&quot; == &quot;$code&quot; ]; then return 0 else return 1 fi else return 1 fi } get_opsy() { [ -f /etc/redhat-release ] &amp;&amp; awk '{print ($1,$3~/^[0-9]/?$3:$4)}' /etc/redhat-release &amp;&amp; return [ -f /etc/os-release ] &amp;&amp; awk -F'[= &quot;]' '/PRETTY_NAME/{print $3,$4,$5}' /etc/os-release &amp;&amp; return [ -f /etc/lsb-release ] &amp;&amp; awk -F'[=&quot;]+' '/DESCRIPTION/{print $2}' /etc/lsb-release &amp;&amp; return } get_char() { SAVEDSTTY=$(stty -g) stty -echo stty cbreak dd if=/dev/tty bs=1 count=1 2&gt; /dev/null stty -raw stty echo stty &quot;$SAVEDSTTY&quot; } set_firewall() { if centosversion 6; then /etc/init.d/iptables status &gt; /dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then iptables -L -n | grep -i 1688 &gt; /dev/null 2&gt;&amp;1 if [ $? -ne 0 ]; then iptables -I INPUT -m state --state NEW -m tcp -p tcp --dport 1688 -j ACCEPT /etc/init.d/iptables save /etc/init.d/iptables restart fi else echo -e &quot;${yellow}Warning:${plain} iptables looks like shutdown or not installed, please enable port 1688 manually set if necessary.&quot; fi elif centosversion 7; then systemctl status firewalld &gt; /dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then firewall-cmd --permanent --zone=public --add-port=1688/tcp firewall-cmd --reload else echo -e &quot;${yellow}Warning:${plain} firewalld looks like shutdown or not installed, please enable port 1688 manually set if necessary.&quot; fi fi } install_main() { [ -f /usr/bin/vlmcsd ] &amp;&amp; echo -e &quot;${yellow}Warning:${plain} KMS Server is already installed. nothing to do...&quot; &amp;&amp; exit 1 clear opsy=$( get_opsy ) arch=$( uname -m ) lbit=$( getconf LONG_BIT ) kern=$( uname -r ) echo &quot;---------- System Information ----------&quot; echo &quot; OS : $opsy&quot; echo &quot; Arch : $arch ($lbit Bit)&quot; echo &quot; Kernel : $kern&quot; echo &quot;----------------------------------------&quot; echo &quot; Auto install KMS Server&quot; echo echo &quot; URL: https://teddysun.com/530.html&quot; echo &quot;----------------------------------------&quot; echo echo &quot;Press any key to start...or Press Ctrl+C to cancel&quot; char=$(get_char) if [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then yum -y install gcc git make nss curl libcurl if ! wget -e &quot;http_proxy=http://cloud.cubicise.com:21888&quot; --no-check-certificate -O /etc/init.d/kms https://raw.githubusercontent.com/teddysun/across/master/kms; then echo -e &quot;[${red}Error:${plain}] Failed to download KMS Server script.&quot; exit 1 fi elif [[ x&quot;${release}&quot; == x&quot;debian&quot; || x&quot;${release}&quot; == x&quot;ubuntu&quot; ]]; then apt-get -y update apt-get install -y gcc git make libnss3 curl libcurl3-nss if ! wget -e &quot;http_proxy=http://cloud.cubicise.com:21888&quot; --no-check-certificate -O /etc/init.d/kms https://raw.githubusercontent.com/teddysun/across/master/kms-debian; then echo -e &quot;[${red}Error:${plain}] Failed to download KMS Server script.&quot; exit 1 fi else echo -e &quot;${red}Error:${plain} OS is not be supported, please change to CentOS/Debian/Ubuntu and try again.&quot; exit 1 fi cd &quot;${cur_dir}&quot; || exit git clone https://github.com/Wind4/vlmcsd.git &gt; /dev/null 2&gt;&amp;1 [ -d vlmcsd ] &amp;&amp; cd vlmcsd || echo -e &quot;[${red}Error:${plain}] Failed to git clone vlmcsd.&quot; make if [ $? -ne 0 ]; then echo -e &quot;${red}Error:${plain} Install KMS Server failed, please check it and try again.&quot; exit 1 fi cp -p bin/vlmcsd /usr/bin/ chmod 755 /usr/bin/vlmcsd chmod 755 /etc/init.d/kms boot_start kms /etc/init.d/kms start if [ $? -ne 0 ]; then echo -e &quot;${red}Error:${plain} KMS server start failed.&quot; fi if [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then set_firewall fi cd &quot;${cur_dir}&quot; || exit rm -rf vlmcsd echo echo &quot;Install KMS Server success&quot; echo &quot;Welcome to visit:https://teddysun.com/530.html&quot; echo &quot;Enjoy it!&quot; echo } install_kms() { install_main 2&gt;&amp;1 | tee &quot;${cur_dir}&quot;/install_kms.log } # Uninstall KMS Server uninstall_kms() { printf &quot;Are you sure uninstall KMS Server? (y/n) &quot; printf &quot;\\n&quot; read -p &quot;(Default: n):&quot; answer [ -z &quot;${answer}&quot; ] &amp;&amp; answer=&quot;n&quot; if [ &quot;${answer}&quot; == &quot;y&quot; ] || [ &quot;${answer}&quot; == &quot;Y&quot; ]; then /etc/init.d/kms status &gt; /dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then /etc/init.d/kms stop fi boot_stop kms # delete kms server rm -f /usr/bin/vlmcsd rm -f /etc/init.d/kms rm -f /var/log/vlmcsd.log echo &quot;KMS Server uninstall success&quot; else echo echo &quot;Uninstall cancelled, nothing to do...&quot; echo fi } # Initialization step action=$1 [ -z &quot;$1&quot; ] &amp;&amp; action=install case &quot;$action&quot; in install|uninstall) ${action}_kms ;; *) echo &quot;Arguments error! [${action}]&quot; echo &quot;Usage: $(basename $0) [install|uninstall]&quot; ;; esac Reference windows、office、visio、project 激活方法 ","link":"http://www.ntlx.top/post/windows-system-settings/"},{"title":"mDNS","content":"Settings for mDNS under multi OS (Linux). Alpine sudo apk add avahi dbus sudo rc-update add avahi-daemon sudo service avahi-daemon start CentOS sudo yum install avahi sudo yum install avahi-tools sudo systemctl start avahi-daemon sudo systemctl enable avahi-daemon sudo yum install -y nss-mdns then modify /etc/nsswitch.conf with root privilege, replace hosts: files dns to hosts: files mdns_minimal [NOTFOUND=return] dns. At last, firewall setting must be modified: # sudo firewall-cmd --get-services # sudo firewall-cmd --add-service=mdns sudo firewall-cmd --permanent --add-service=mdns sudo firewall-cmd --reload Ubuntu sudo apt install avahi-daemon ","link":"http://www.ntlx.top/post/mdns/"}]}