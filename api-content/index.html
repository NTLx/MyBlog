{"posts":[{"title":"Docker IPsec VPN","content":"Self-build VPN, easy &amp; free ! Thanks to Lin Song who brought docker-ipsec-vpn-server open-source project to everyone for building &amp; using VPN service very convenient. Server via Docker Compose version: &quot;3&quot; networks: vpn: external: false services: vpn: image: hwdsl2/ipsec-vpn-server container_name: vpn restart: unless-stopped privileged: true networks: - vpn ports: - 500:500/udp - 4500:4500/udp volumes: - ./ipsec.d:/etc/ipsec.d - ./vpn.env:/opt/src/vpn.env:ro logging: options: max-size: &quot;1m&quot; Example settings within ./vpn.env: VPN_IPSEC_PSK='88888888' VPN_USER='user' VPN_PASSWORD='password' VPN_ADDL_USERS='user1 user2' VPN_ADDL_PASSWORDS='password1 password2' VPN_DNS_SRV1='1.1.1.1' VPN_DNS_SRV2='1.0.0.1' Client Only Windows 10 need a little help Windows 10 Download client software Follow the instruction to connect server Other OS Just use build-in VPN support. ","link":"http://www.ntlx.top/post/docker-ipsec-vpn/"},{"title":"Proxy","content":"网络代理 可以简单理解为更改特定或所有网络传输的数据通道（或线路），以达到绕过监测、提高数据传输安全性的目的。 说明 网络代理 有两种策略： 智能代理：智能代理根据预先设定的地址列表决定是否对某个互联网连接进行代理，因此并不能保证所有需要代理的连接全部都会进行代理，但一般能够保证大部分连接的使用，且不会影响不需要代理的连接，推荐日常使用 全局代理：全局代理即让 网络代理 接管所有的网络数据传输，可以保证所有需要代理的连接全部都会进行代理，但不需要代理的连接也会强制进行代理，会造成部分国内网络访问的困难，故一般在智能代理无法满足需求时使用 一般先让系统所有流量走代理，把浏览器的代理工具配置好，然后关掉系统代理，仅让浏览器或其它需要代理的软件单独代理流量 本文配置参数仅作示例 系统代理 Windows 10 若系统代理配置不生效，请注销后再次登录即可 进入系统代理设置 点击任务栏上的网络状态图标，位置如图所示： 在弹出的界面中点击 网络和 Internet 设置 在弹出的界面中点击左侧导航栏里的 代理 如果 自动检测设置 的状态为 开（如下图所示），请将其切换为 关 的状态 设置全局代理 在 手动设置代理 设置区域内，将 使用代理服务器 的状态切换为 开 在 地址 一栏填写代理服务器地址，在 端口 一栏填写代理服务器端口，在 请勿对以下列条目开头的地址使用代理服务器 一栏填写 127.0.*;192.168.*;localhost，将 请勿将代理服务器用于本地(Intranet)地址 前的复选框选中，如下图所示： 点击 保存 按钮即可 Mac OS 进入系统代理设置 进入设置：点击 Dock 上的 系统偏好设置 图标，或者点击屏幕左上角的 Apple 徽标，单击 系统偏好设置... 单击 网络 选中需要进行代理设置的网络连接（或当前网络连接，例如此处示例的 以太网），然后点击 高级... 按钮 单击 代理 选项卡 设置全局代理 取消勾选 自动代理配置 勾选 SOCKS 代理，并按下图配置（需填写上文提供的 Socks 代理服务器地址） 勾选 FTP 代理，并按下图配置（需填写上文提供的 Http 代理服务器地址） 勾选 网页代理，并按下图配置（需填写上文提供的 Http 代理服务器地址） 勾选 安全网页代理，并按下图配置（需填写上文提供的 Http 代理服务器地址） 点击 好 按钮，然后点击 应用 按钮即可 浏览器代理 顾名思义，仅让浏览器使用代理进行网络访问 若已开启系统代理，请先关闭，不建议与浏览器代理一同开启 Chrome 下载代理切换插件 第一次配置前，请先配置并开启系统全局代理 访问 Chrome 网上应用商店 找到页面左上角的 搜索店内应用 输入框（确保图中蓝色色块选中的是 扩展程序），并输入 Proxy SwitchyOmega（如下图所示），然后点击键盘 Enter 键 点击 Chrome 扩展程序 Proxy SwitchyOmega 的 添加至 Chrome 按钮 在弹出的对话框中选择 添加扩展程序 安装成功后，会跳出设置界面，并自动开始自带的介绍流程，请不要跳过 关闭系统全局代理 一般配置 在 SwithyOmega 设置界面左侧导航栏中点击界面 在 切换选项 中的 初始情景模式 中选择 auto switch 然后点击左侧导航栏底部的 应用选项 在 SwithyOmega 设置界面左侧导航栏中点击 proxy 按照下图进行设置： 然后点击左侧导航栏底部的 应用选项 在 SwithyOmega 设置界面左侧导航栏中点击 auto switch 在 规则设置列表 区域中，点击选中 规则列表格式 的 AutoProxy，然后在 规则列表网址 中填写https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt，然后点击 立即更新情景模式 按钮 在 切换规则 区域中，按照下图设置 规则列表规则 和 默认情景模式 然后点击左侧导航栏底部的 应用选项 设置智能代理 单击 Chrome 浏览器地址栏右侧的 SwitchyOmega 图标 选择 auto switch 设置全局代理 单击 Chrome 浏览器地址栏右侧的 SwitchyOmega 图标 选择 proxy Edge 微软基于 Chromium 开发的新版 Edge 浏览器可从其自带插件商店安装 SwithyOmega 插件来使用网络代理，而且整个过程无需在系统开启全局代理的环境下操作。 终端代理 系统代理和浏览器代理均不会对终端生效，终端需单独配置代理 export http_proxy=&quot;http://winservice.cm.com:10809&quot;; export https_proxy=&quot;http://winservice.cm.com:10809&quot;; export ftp_proxy=&quot;http://winservice.cm.com:10809&quot; 或者 export ALL_PROXY=socks5://winservice.cm.com:10808 ","link":"http://www.ntlx.top/post/proxy/"},{"title":"PicGo","content":"Self build image hosting service solution, for Free ! Introduction PicGo 是一款开源的跨平台图床工具软件，我们用它来进行图片托管，实现文本与文件的分离。 Installation 以 Windows 系统为例 下载软件安装包：可从文件服务器下载 v2.2.2 版本，或从官方 release 下载最新版本 运行安装包，显示如下界面，点击 下一步 按钮即可 接下来选择软件安装位置，一般保持默认即可，然后点击安装按钮 待安装完成，点击完成按钮即可，此时可在系统的任务栏托盘上找到 PicGo 的图标： 左键单击 PicGo 的任务栏图标可打开软件主界面： 右键单击 PicGo 的任务栏图标可打开快捷菜单： Setting PicGo 安装好后，需要进行一些配置才能正常使用。 GitHub + jsDeliver 使用 GitHub 作为免费图床，通过免费 CDN 加速图片加载 设置方法 NextCloud 使用 NextCloud 作为云存储方案提供图床功能，这里以自建的 NextCloud 服务作为说明 打开软件主界面，在左侧导航栏点击 插件设置，然后输入 nextcloud，安装 nextcloud-uploader 插件（如果弹出提示“需要安装 Node”，根据提示安装 Node 即可） 点击左侧导航栏中的 图床设置，然后在展开的列表里点击 NextCloud图床 然后按照下图进行配置（配置参数仅作示例）： 服务地址：http://cloud.cubicise.com:82 用户名：PicGo 密码：password 保存路径：PicGo 各项参数填写完毕后，点击 确定 按钮，然后点击 设为默认图床 按钮，关闭软件主界面即可 Usage 请参考官方文档。 ","link":"http://www.ntlx.top/post/picgo/"},{"title":"Perl 科学计算代码片段","content":"Snippets collect. 分布函数 my @ex8=(1,9,4,9,10,12,13,15,12,13); my %hash=&amp;frequency(\\@ex8); print join(&quot;,&quot;,values %hash); print join(&quot;,&quot;,keys %hash); sub frequency{ my($vec)=@_; my %hash; foreach(@$vec){ ++$hash{$_}; } return %hash; } 排序函数 my @ex9=(1,9,4,9,10,12,13,15,12,13); print join(',',&amp;sortf(&quot;numeric&quot;,&quot;asc&quot;,\\@ex9)); sub sortf{ my($type,$direction,$vec)=@_; my @vec_sort; if(($type eq &quot;numeric&quot;) &amp; ($direction eq &quot;asc&quot;)){ @vec_sort=sort{$a&lt;=&gt;$b}@$vec; } if(($type eq &quot;numeric&quot;) &amp; ($direction eq &quot;desc&quot;)){ @vec_sort=sort{$b&lt;=&gt;$a}@$vec; } if(($type eq &quot;string&quot;) &amp; ($direction eq &quot;asc&quot;)){ @vec_sort=sort{$a cmp $b}@$vec; } if(($type eq &quot;string&quot;) &amp; ($direction eq &quot;desc&quot;)){ @vec_sort=sort{$b cmp $a}@$vec; } return @vec_sort; } 众数 my @ex10=(1,9,4,9,10,12,13,15,12,13); print join(',',&amp;mode(\\@ex10)); sub mode{ my($vec)=@_; my %hash=&amp;frequency($vec); my @result; foreach(sort{ $hash{$b}&lt;=&gt;$hash{$a} } keys %hash){ last if @result &amp;&amp; $hash{$_} != $hash{$result[0]}; push(@result,$_); } return @result; } 中位数 my @ex111=(1,9,4,5); print &amp;median(\\@ex11); my @ex112=(1,9,4,5,5); sub median{ my($vec)=@_; my @vec1=&amp;sortf('numeric','asc',$vec); my $length=scalar @$vec; my $result; if($length % 2){ $result=$vec1[($length-1)/2]; }else{ $result=($vec1[$length/2]+$vec1[$length/2-1])/2; } return $result; } 四分之一分位数 my @ex12=( 7, 15, 36, 39, 40, 41); print join(',',&amp;quantile(\\@ex12)); sub quantile{ my($vec)=@_; my @vec1=&amp;sortf('numeric','asc',$vec); my $length=scalar @$vec+1; my($upper,$lower); if($length %4 ){ my $temp1=int($length/4); my $temp2=int(3*$length/4); $upper=$vec1[$temp1-1]+($vec1[$temp1]-$vec1[$temp1-1])*($length/4-$temp1); $lower=$vec1[$temp2-1]+($vec1[$temp2]-$vec1[$temp2-1])*(3*$length/4-$temp2); }else{ $upper=$vec1[$length/4-1]; $lower=$vec1[3*$length/4-1]; } my @result=($upper,$lower); return @result; } 最大值 my @ex13=( 7, 15, 36, 39, 40, 41); print &amp;max(\\@ex13); sub max{ my($vec)=@_; my @result=&amp;sortf('numeric','desc',$vec); return $result[0]; } 最小值 my @ex14=( 7, 15, 36, 39, 40, 41); print &amp;min(\\@ex14); sub min{ my($vec)=@_; my @result=&amp;sortf('numeric','asc',$vec); return $result[0]; } 标准化，共2种方法 my @ex15=( 7, 15, 36, 39, 40, 41); print join(',',&amp;scale(\\@ex15,2)); sub scale{ my($vec,$m)=@_; my @result; if($m eq 1){ if(&amp;max($vec) eq &amp;min($vec)){ die &quot;could not scale as range method!&quot;; }else{ @result=map(($_-&amp;min($vec))/(&amp;max($vec)-&amp;min($vec)),@$vec); } return @result; } if($m eq 2){ if(&amp;var($vec) eq 0){ die &quot;could not scale as centered method!&quot;; }else{ @result=map(($_-&amp;mean($vec))/&amp;sd($vec),@$vec); } return @result; } } ","link":"http://www.ntlx.top/post/perl-ke-xue-ji-suan-dai-ma-pian-duan/"},{"title":"LanProxy by Docker","content":"For NAT traversal. Need a server which already had a public ip. Server Must had a public ip already! One-click run docker-compose.yml: version: '3.1' services: lanproxy-client: image: franklin5/lanproxy-server container_name: lanproxy-server volumes: - ./config:/root/.lanproxy environment: - LANPROXY_USERNAME=your_username - LANPROXY_PASSWORD=your_password ports: # for web config UI - 8090:8090 - 4900:4900 - 4993:4993 # for redirect port - 9000-9100:9000-9100 restart: always logging: options: max-size: &quot;1m&quot; Self-build Dockerfile: FROM alpine as git WORKDIR /lanproxy RUN apk update RUN apk add git RUN git clone https://github.com/NTLx/lanproxy.git ./ FROM maven as maven WORKDIR /lanproxy COPY --from=git /lanproxy ./ RUN mvn compile package -pl proxy-server -am RUN cd distribution &amp;&amp; DIR_NAME=$(echo `ls` | awk '{print $NF}') &amp;&amp; mv $DIR_NAME /lanproxy/lanproxy-server FROM openjdk:8-jdk-alpine WORKDIR /lanproxy-server COPY --from=maven /lanproxy/lanproxy-server ./ EXPOSE 8090 4900 4993 CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;sh bin/startup.sh &amp;&amp; tail -f logs/server.log&quot;] Docker build CMD: docker build -t lanserver:v1 . docker-compose.yml: version: '3.1' services: lanproxy-client: image: lanserver:v1 container_name: lanproxy-server volumes: - ./config:/root/.lanproxy environment: - LANPROXY_USERNAME=your_username - LANPROXY_PASSWORD=your_password ports: # for web config UI - 8090:8090 - 4900:4900 - 4993:4993 # for redirect port - 9000-9100:9000-9100 restart: always logging: options: max-size: &quot;1m&quot; Client network_mode is optional One-click run docker-compose.yml: version: '3.1' services: lanproxy-client: image: franklin5/lanproxy-client container_name: lanproxy-client environment: - LANPROXY_KEY=input_your_key - LANPROXY_HOST=input_your_host restart: always logging: options: max-size: &quot;1m&quot; Self-build Dockerfile : FROM ubuntu RUN apt update -y RUN apt install openjdk-8-jdk -y RUN apt install git -y WORKDIR / RUN git clone https://github.com/NTLx/lanproxy-client.git ENTRYPOINT [&quot;/lanproxy-client/init.sh&quot;] WORKDIR /lanproxy-client # EXPOSE 8888 CMD [&quot;/bin/bash&quot;] Docker build CMD: docker build -t lan:v1 . docker-compose.yml: version: '3.1' services: lanproxy-client: image: lan:v1 container_name: lanproxy-client environment: - LANPROXY_KEY=input_your_key - LANPROXY_HOST=input_your_host restart: always network_mode: &quot;host&quot; logging: options: max-size: &quot;1m&quot; ","link":"http://www.ntlx.top/post/lanproxy-by-docker/"},{"title":"How To Write","content":"Notes about how to write. Grammar Markdown 献给写作者的 Markdown 新手指南 LaTeX 110分钟了解LaTeX2ε latex123（大家来学LaTeX） Software VS Code 文本编辑器使用指南（基础篇） VS Code 文本编辑器使用指南（进阶篇） Style 中文文案排版指北 技术文档写作规范 Google documentation guide Automation Microsoft Editor vs. Grammarly ","link":"http://www.ntlx.top/post/how-to-write/"},{"title":"Fonts","content":"Fonts collection. Recomendation For Coding 推荐两款美观、护眼、符号全、辨识度高的 Mono Type 字体： Monaco for Powerline、Fira Code 包含图标（符号更全）的字体集： Nerd Fonts ","link":"http://www.ntlx.top/post/fonts/"},{"title":"R","content":"R study notes. Grammar Basic: R script Install Packages Within Conda For example, install bioconductor package karyoploteR /public/software/miniconda3/bin/conda install -n r3.6 -c bioconda bioconductor-karyoploteR ","link":"http://www.ntlx.top/post/r/"},{"title":"Python","content":"Python study notes. Basic: Python Data Analysis Notes Introduce &amp; basic NumPy Pandas 1st Part Pandas 2st Part Pandas 3st Part matplotlib 1st Part matplotlib 2st Part Practice Basic NumPy Pandas 1st Part Pandas 2st Part Pandas 3st Part matplotlib 1st Part matplotlib 2st Part ","link":"http://www.ntlx.top/post/python/"},{"title":"Git","content":"Usefull settings of Git. Using proxy ssh-keygen -t rsa -b 4096 -C &quot;lx3325360@gmail.com&quot; git config --global user.name &quot;NTLx&quot; git config --global user.email &quot;lx3325360@gmail.com&quot; git config --global http.proxy http://127.0.0.1:8888 git config --global https.proxy http://127.0.0.1:8888 Modify commit info Change Author Info All git filter-branch --env-filter 'export GIT_AUTHOR_EMAIL=new_author_email' -- GIT_AUTHOR_NAME, GIT_COMMITTER_EMAIL, GIT_COMMITTER_NAME could also be modified Specific git filter-branch -f --env-filter ' OLD_EMAIL=&quot;Old@Email&quot; CORRECT_NAME=&quot;Changed Name&quot; CORRECT_EMAIL=&quot;Changed@Email&quot; if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ] then export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot; export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot; fi if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ] then export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot; export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot; fi ' --tag-name-filter cat -- --branches --tags Log See Specific Author git log --author=&quot;Author Name&quot; Notification Integration GitLab &amp; Telegram Bot 通知集成 Telegram 需科学上网使用 在使用 GitLab 作为远程仓库时启用 Telegram Bot通知集成 从 Telegram 搜索 @gitlab_bot 加入 Bot 后点击底部 START 按钮会提示： 将完整URL提供给管理员即可完成 Telegram Bot 推送通知的设置 Telegram Bot 推送示例： git 仓库的一切修改以 GitLab 仓库内容为核心，请先设置好 Telegram Bot，确保能正常获取 GitLab 仓库更新推送，修改本地 git 仓库任何文件之前先查看最近修改的推送，推荐先 pull 一下再进行本地修改，防止出现较复杂的合并冲突 大家可以登录 GitLab 仓库进行操作，提起分支合并请求（修改提交操作默认会开一个新的分支），也可以 clone 到本地修改后 push 到新的分支，提起合并请求 Telegram Bot 的通知消息可以显示更多提交信息，推荐使用。 类似的，还可以在 GitLab 仓库集成 Slack 通知机器人、钉钉机器人等来获取仓库更新消息。 Tips GitHub 上随便点开一个文件，把 url 的 .com 替换成 .githistory.xyz 有惊喜 gitstats Documents Collection Cheat Sheet Check PDF The Simple Guide English Version Chinese Version Git 配置最佳实践 原文链接： blog.scottnonnenberg.com 我喜欢 Git，每天都在使用它。正如我最近所做的事情，花了一些时间通篇阅读文档，并检查我的全局 Git 配置。欢迎阅读stack improvements系列第四篇文章。 一切都是Git 我开始写代码的时代还非常古老，那时候使用文件复制和Visual SourceSafe的方式进行源码管理。即使如此，我对源代码管理的概念也是非常吃惊的，我居然可以坐在家里撸代码。 后来，在加利福尼亚大学，在项目中我遇到 Concurrent Versions System (CVS)，那时只有一些小项目，所以我当时并没有很好的理解它。 在微软工作的几年里，我使用 Team Foundation Server 进行代码管理，当时有个新名词“App Week”，指的是新接触 Visual Studio 的人将花费一整个星期的时间熟悉该产品，以确保它能正确工作。而在那段时间里，我所有的个人项目都是使用 SVN。它是免费而且容易在本地运行。通过它可以跟踪我所有的本地代码变化。 2010年秋天的时候，我在学习 Ruby on Rails 来开发一个项目，通过查看教程，介绍了Heroku 和一个新的源代码管理系统：Git。这是令人吃惊的 - 我可以像它在本地托管一样对待它，同时也可以与他人互动。没有锁定，离线可用，智能合并。我爱上她了。 从此 Git 火了。它成为了开源的标准。它在各种开源托管平台中使用。有许多GUI工具支持 - 专用的源代码控制工具以及代码编辑器。 所以，懂她非常重要。 全局配置 不管你知不知道，其实你都已经有了一份 Git 全局配置。它是你 home 目录中的 .gitconfig 文件。大多数 .gitconfig 文件都包含你的用户名和电子邮件地址，是你在getting started with Git过程中创建的。其实在这个文件中还有更多的配置项。 我的整个 .gitconfig 可以通过这里查看。需要的话可以直接到那里查看，不过本文我们将更详细地讨论每个部分。(也可以查看本页面中的示例) Alias .gitconfig 中有趣的部分是 alias 部分，您可以在其中创建自己的命令。感觉默认命令满足不了需求？在这里添加。有什么你不习惯的？在这里添加自己的版本吧！ prune = fetch --prune - 当在其他人将分支推送到远程仓库时，我也会得到了大量的本地分支。Prune可以删除远端已经删除的任何本地分支。配置在这里，因为我总是忘记它。 undo = reset --soft HEAD ^ - 如果我在做出提交时犯了一个错误，这个命令会可以在提交之前撤销。通常我只是在这种情况下修改现有的提交，因为它保留了提交信息。 stash-all = stash save --include-untracked - 当你正在开发，有人频繁的要求你切换分支时，stash 是非常有用的。这个命令确保当你 stash 时，可以记录没有被 git add 的新文件。 glog = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%Creset' - 使用默认 git log 查看提交历史记录有时是无效率的，并没有真正关注最重要的信息。这种彩色的图形展示更容易理解，特别是当分支复杂的时候。 Merge 没有合并提交，没有合并两个历史记录，只是平滑的在两次提交之中。 你可能会想知道如何完成这项工作。答案用 git rebase，用于把一个分支的修改合并到当前分支，它非常有用 当我 pull 时与 master 有冲突的时候，我使用这种方式来处理。当你在本地分支上修改后，同时其他人在 master 上 做了修改，我想这样比你直接 merge 到你本地分支时的 commit 更好。 这样你可以避免多出一个 merge 的 commit。如果我打算新建一个merge commit，我可以用明确的 git merge -ff 来创建。 在发生合并冲突时，conflictstyle = diff3 会给您更多的信息。 Commit gpgSign = true 确保您的所有 commit 都由你的 GPG 密钥签名。这通常是一个好主意，因为 .gitconfig 文件中没有验证您的用户信息，这意味着看起来像您这样的提交可能会轻松显示在其他人的提交 信息中。 事实上，我曾经用过别人的凭据，因为帐户和机器配置耗时太长。我的提交请求是通过别人的帐号提交的，但内部的所有提交都是我的真实账号。 将你的 GPG key 添加到 Github 并尝试一次提交，你可能就会解决你现在的疑问，您提交内容将会有一个“已验证”标记。 注意： 如果您有多个 GPG 密钥，可以使用 user.signingKey 选项指定要使用的密钥。 上述的配置在 GUI 工具里不会生效，你需要在工具里的设置里找配置项。 gpg-agent可以保存口令，让我们更方便。所以使用它吧！ Push default = simple 可能是你已经设置的配置项。它可以更轻松地将您的本地分支推送到远程，当二者分支名一样的时候。 followTags = true 很简单。配置它以后，当你 git push 的时候可以直接将本地的 tags 提交到远程，而不用每次都加参数 --follow-tags。不知道你是不是和我一样，我如果创建了一个tag，我就基本上一定会将它推到远程的。 Status showUntrackedFiles = all 通常当您添加一个新目录，但是还没有使用 git add 时，你用 git status 将只显示目录名称。这困扰我很多次了，因为一个新的，很大的一个目录目录却只显示一行。此选项在 git status 的时候显示该新目录下的所有文件。 注意：当仓库很大的时候，这可能会导致效率比较慢。 Transfer fsckobjects = true 告诉 Git，您希望在接收或发送修改时进行一些额外的检查。为什么要检查？毕竟发现错误赶早不赶晚！ 注意：这可以使速度慢一些。 Diff 工具：icdiff 除了内置的 git diff 命令之外，Git 还允许您指定一个外部工具来显示您的文件差异。下面配置可以配置默认使用 icdiff 显示存储库的两个文件之间的差异： [diff] tool = icdiff [difftool] prompt = false [difftool &quot;icdiff&quot;] cmd = /usr/local/bin/icdiff --line-numbers $LOCAL $REMOTE 你可以像正常情况那样使用它：git difftool master branch icdiff 很有趣，因为它试图在控制台中生成多彩的 GitHub 风格的差异。比通常的基于块的差异样式更容易阅读。 注意： 你可能安装 icdiff 有遇到一些问题。令人高兴的是，有一个简单的解决方法。 将 git diff 当做备胎， - icdiff 似乎不会处理与/dev/null的比较。例如，在你添加一个新文件之后尝试 git difftool --cached。 Bonus: More revisions! 你经常会用 git checkout master，对吧？在该命令中，master 是 revisions 的示例，是引用 master 分支中最新提交的简写。这些是常见的 revision 格式： # Check out a branch git checkout branchname # Check out a remote branch git checkout remotes/origin/branchname # Check out a specific commit git checkout 158e4ef8409a7f115250309e1234567a44341404 # Check out most recent commit for current branch git checkout HEAD 但事实证明，有一种语言来指定revisions。所有这些操作都适用于以上使用的任何名词： # ^ means 'first parent commit,' therefore the second-most recent commit in the master branch git checkout master^ # If it's a merge commit, with more than one parent, this gets the second parent git checkout master^2 # Same thing as three ^ characters - three 'first-parent' steps up the tree git checkout master~3 # The first commit prior to a day ago git checkout master@{yesterday} # The first commit prior to 5 minutes ago git checkout master@{5.minutes.ago} 您可以在这里找到所有支持的 revision 格式，我很惊讶它是多么全面！ 记住，在一个 revision 中你可以使用大多数的 git 命令，比如：git glog master@{10.days.ago}..master 动起来吧！ 可以从我的 .gitconfig 开始，或者定制你自己的风格。你甚至可以像我一样更加深入了解命令列表和选项列表，更多的分享出去。 使 Git 对你最有用。Git 为减少 bug 以及解决代码重提提供了非常大的舒适性。动起来吧！ 一些很好的资源： 这里的配置需要具体项目具体分析。在项目配置文件中使用相同的格式：project-dir / .git / config 获取所有 git log 配置的最新信息 各个版本 Git 了解签名 自定义别名 有关 git 仓库损坏： https://groups.google.com/forum/#!topic/binary-transparency/f-BI4o8HZW0 http://git.661346.n2.nabble.com/propagating-repo-corruption-across-clone-td7580504i40.html 对 Git 的复杂性感到沮丧？猛击这里 .gitconfig [user] email = scott@nonnenberg.com name = Scott Nonnenberg [alias] prune = fetch --prune # Because I constantly forget how to do this # https://git-scm.com/docs/git-fetch#git-fetch--p undo = reset --soft HEAD^ # Not quite as common as an amend, but still common # https://git-scm.com/docs/git-reset#git-reset-emgitresetemltmodegtltcommitgt stash-all = stash save --include-untracked # We wanna grab those pesky un-added files! # https://git-scm.com/docs/git-stash glog = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' # No need for a GUI - a nice, colorful, graphical representation # https://git-scm.com/docs/git-log # via https://medium.com/@payload.dd/thanks-for-the-git-st-i-will-use-this-4da5839a21a4 [merge] ff = only # I pretty much never mean to do a real merge, since I use a rebase workflow. # Note: this global option applies to all merges, including those done during a git pull # https://git-scm.com/docs/git-config#git-config-mergeff conflictstyle = diff3 # Standard diff is two sets of final changes. This introduces the original text before each side's changes. # https://git-scm.com/docs/git-config#git-config-mergeconflictStyle [commit] gpgSign = true # &quot;other people can trust that the changes you've made really were made by you&quot; # https://help.github.com/articles/about-gpg/ # https://git-scm.com/docs/git-config#git-config-commitgpgSign [push] default = simple # &quot;push the current branch back to the branch whose changes are usually integrated into the current branch&quot; # &quot;refuse to push if the upstream branch’s name is different from the local one&quot; # https://git-scm.com/docs/git-config#git-config-pushdefault followTags = true # Because I get sick of telling git to do it manually # https://git-scm.com/docs/git-config#git-config-pushfollowTags [status] showUntrackedFiles = all # Sometimes a newly-added folder, since it's only one line in git status, can slip under the radar. # https://git-scm.com/docs/git-config#git-config-statusshowUntrackedFiles [transfer] fsckobjects = true # To combat repository corruption! # Note: this global option applies during receive and transmit # https://git-scm.com/docs/git-config#git-config-transferfsckObjects # via https://groups.google.com/forum/#!topic/binary-transparency/f-BI4o8HZW0 # A nice little github-like colorful, split diff right in the console. # via http://owen.cymru/github-style-diff-in-terminal-with-icdiff/ [diff] tool = icdiff [difftool] prompt = false [difftool &quot;icdiff&quot;] cmd = /usr/local/bin/icdiff --line-numbers $LOCAL $REMOTE ","link":"http://www.ntlx.top/post/git/"},{"title":"Editor Config","content":"An OS crossed format solution! 前言 与“规范”相关的一个事情： 在进行脚本开发时，不同的人有不同的书写习惯，比如 python 脚本有用 tab 缩进也有用 space 缩进的、yaml 配置文件有用 2 个 space 也有用 4 个 space 控制格式的。 这个问题在团队开发时更加凸显，尤其大家连编辑器的使用也不相同时。 为了书写规范化，现有一个简单易上手、跨编辑器且静默生效的代码风格定义和维护工具：EditorConfig，推荐在开发项目（例如 Git 仓库）中使用。 EditorConfig 是什么 EditorConfig 是一套用于统一代码格式的解决方案，很多项目都有用到，比如 Bootstrap、jQuery、Underscore 和 Ruby 等等。官方网站说的很简明，为了方便大家快速上手，这里是简单的翻译。 EditorConfig 可以帮助开发者在不同的编辑器和IDE之间定义和维护一致的代码风格。EditorConfig 包含一个用于定义代码格式的文件和一批编辑器插件，这些插件可以让编辑器读取配置文件并依此格式化代码。EditorConfig 的配置文件十分易读，并且可以很好的在VCS（Version Control System）下工作。 在哪里存放配置文件 当打开一个文件时，EditorConfig 插件会在打开文件的目录和其每一级父目录查找 .editorconfig 文件，直到有一个配置文件 root=true。 EditorConfig 配置文件从上往下读取，并且路径最近的文件最后被读取。匹配的配置属性按照属性应用在代码上，所以最接近代码文件的属性优先级最高。 下载插件 支持 VS Code、Vim、Atom、PyCharm 等众多编辑器/IDE，请去官网查看是否需要安装插件以及下载相关。 示例配置文件 # EditorConfig is awesome: https://EditorConfig.org # top-most EditorConfig file root = true # Unix-style newlines with a newline ending every file [*] end_of_line = lf insert_final_newline = true # Matches multiple files with brace expansion notation # Set default charset [*.{js,py,pl,sh,r}] charset = utf-8 # 4 space indentation [*.py] indent_style = space indent_size = 4 # 2 space indentation [*.{yml,yaml}] indent_style = space indent_size = 2 # tab indentation (no size specified) [*.{js,pl,sh,r,rule,Makefile}] indent_style = tab # Indentation override for all JS under lib directory [lib/**.js] indent_style = space indent_size = 2 # Matches the exact files either package.json or .travis.yml [{package.json,.travis.yml}] indent_style = space indent_size = 2 目前所有的属性名和属性值都是大小写不敏感的。编译时都会将其转为小写。通常，如果没有明确指定某个属性，则会使用编辑器的配置，而 EditorConfig 不会处理。 推荐不要指定某些EditorConfig属性。比如，tab_width 不需要特别指定，除非它与 indent_size 不同。同样的，当 indent_style 设为 tab 时，不需要配置 indent_size，这样才方便阅读者使用他们习惯的缩进格式。另外，如果某些属性并没有规范化（比如 end_of_line），就最好不要设置它。 这里是一些使用了 EditorConfig 的示例项目 注意：不是每种插件都支持所有的属性，具体可见Wiki。 ","link":"http://www.ntlx.top/post/editor-config/"},{"title":"APP Collections","content":"Collect usefull apps. Web-based Tools Search socode.pro：程序员的搜索工具，将各种网络资源汇总在一个搜索框里面 File Convertio（File Format Converter） PDF Tool SmallPDF 轻闪 PDF Text Online Mathematics Editor: Mathcha StackEdit – In-browser Markdown editor 实时预览 支持脚注 自动保存 可与云存储同步 多种格式导出 支持一键发布到GitHub等 本身不支持[TOC]添加目录语法，但是在一键发布的时候，可以选择自动生成目录（只对一级和二级目录进行自动生成） Pic Online Gallery: Z4A Pic resize, cut, zip Video Video Cloud: CuPlayer Other Screen Shot, Screen Record, Audio Record, Audio Edit&amp;Convert, Video Convert: Apowersoft Installable Tools VSCode Visual Studio Code 简称 VSCode。不是 IDE 的全能文本编辑器，Microsoft 出品的神器，点此下载。 其优点太多，你只需要知道它是最先进的文本编辑器就好了。另外，再强调一点，它不是 IDE，和 PyCharm 等软件有区别。 Git 集成（可视化操作 Git） 强大的自定义能力 强大的插件功能 强大的兼容性 强大的社区支持 强大的官方支持 最新特色：可直连服务器进行开发 更多特性请查看官网 For Markdown 完美的图床软件 识别公式转换为 LaTeX 代码 自带图床功能的基于 Git 的 Markdown 编辑器 关注历史记录、版本恢复的 Markdown 编辑器 IDE Python PyCharm PyCharm 在 Mac OS X 的 CheetSheet Perl Komodo ","link":"http://www.ntlx.top/post/app-collections/"},{"title":"PostgreSQL","content":"PostgreSQL usage note. postgresql 数据库备份 docker exec -t postgresql pg_dump -U postgres -d postgres -f /wiki.yyyymmdd.sql docker cp postgresql:/wiki.yyyymmdd.sql . 备份脚本： #!/usr/bin/perl ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime(); $year+=1900; $mon+=1; `docker exec -t postgresql pg_dump -U postgres -d postgres -f /wiki.$year.$mon.$mday.$hour.$min.$sec.sql`; `docker cp postgresql:/wiki.$year.$mon.$mday.$hour.$min.$sec.sql /public`; `docker exec -t postgresql rm /wiki.$year.$mon.$mday.$hour.$min.$sec.sql`; `gzip /public/wiki.$year.$mon.$mday.$hour.$min.$sec.sql`; #`scp -P 8022 /public/wiki.$year.$mon.$mday.$hour.$min.$sec.sql.gz lx\\@cloud.cubicise.com:/public/wiki.backup/`; #`rm /public/wiki.$year.$mon.$mday.$hour.$min.$sec.sql.gz`; postgresql 数据库还原 还原时，若遇到错误，可建立一个全新（未建立过连接）的 postgresql container，导入数据库后再连接应用 docker cp wiki.yyyymmdd.sql postgresql:/ docker exec -it postgresql bash su - postgres psql -d postgres -U postgres -f /wiki.yyyymmdd.sql ","link":"http://www.ntlx.top/post/postgresql/"},{"title":"UNRAID","content":"Unleash Your Hardware Unraid is an operating system for personal and small business use that brings enterprise-class features letting you configure your computer systems to maximize performance and capacity using any combination of applications, VMs, storage devices, and hardware. UNRAID Installation Download files from softoroom web site and extract by password: softoroom, here is a mirror Get a USB drive, format to FAT32, then copy all content in UNRAID image to USB drive Run make_bootable.bat (on windows) with admin privilege Plug in the USB drive to target machine, then power on (set legacy boot in BIOS if cannot boot from the USB drive) Visit the ip shows in target machine, recored the UUID, and choose Trail, then power off the UNRAID Plug in the USB drive to a windows PC (for example), run keymaker.exe UUID, you will get a UUID.key file in the same dir of keymaker.exe, put the UUID.key file to config dir in USB drive, and delete trail.key Plug in the USB drive to traget machine and power on, enjoy it UNRAID Settings Time NTP server settings. time.asia.apple.com ntp1.aliyun.com s1b.time.edu.cn s1c.time.edu.cn Storage Every mounted disk inside UNRAID disk array will link to /mnt/usr/ dir, so if you need to manipulate file(s) or dir(s) manually, operate inside /mnt/usr/ dir was recommanded, it's also recommanded to docker path link settings. You can modify this disk management strategy in SETTINGS menu's Global Share Settings. Plugin http://github.com/dlandon/unassigned.devices/raw/master/unassigned.devices.plg UNRAID Docker The Docker GUI in UNRAID was recommanded, but the Command Line was also convenient. You can set Web UI like this format in UNRAID docker GUI: http://[IP]:[PORT:8080] Jellyfin docker run -d --name='Jellyfin' --net='bridge' --privileged=true --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '3006:8096/tcp' -v '/mnt/disk1/appdata/jellyfin/cache':'/cache':'rw' -v '/mnt/disk1/appdata/jellyfin/config':'/config':'rw' -v '/mnt/disks/Seagate_Expansion_Drive':'/media/video':'rw' -v '/mnt/disk1/Music':'/media/music':'rw' --device='/dev/dri' 'jellyfin/jellyfin' FreshRSS docker run -d --name='FreshRSS' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'TZ'='Asia/Shanghai' -e 'PUID'='100' -e 'PGID'='1000' -p '9292:80/tcp' -v '/mnt/disk1/appdata/FreshRSS':'/config':'rw' 'linuxserver/freshrss' PPTP docker run -d --name='PPTP' --net='bridge' --privileged=true --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '1723:1723/tcp' -p '1723:1723/udp' -v '/mnt/disk1/appdata/PPTP/chap-secrets':'/etc/ppp/chap-secrets':'rw' 'mobtitude/vpn-pptp' L2TP modprobe af_key docker run -d --name='L2TP' --net='bridge' --privileged=true -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '500:500/tcp' -p '500:500/udp' -p '4500:4500/tcp' -p '4500:4500/udp' -p '1701:1701/tcp' -p '1701:1701/udp' -v '/lib/modules':'/lib/modules':'ro' --env-file /mnt/disk1/appdata/L2TP/L2TP.env --log-opt max-size=1m 'fcojean/l2tp-ipsec-vpn-server' Open VPN cd /mnt/disk1/appdata git clone https://github.com/kylemanna/docker-openvpn.git cd docker-openvpn/ docker build -t myownvpn . cd .. mkdir vpn-data #docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm myownvpn ovpn_genconfig -u udp://IP_ADDRESS:3333 docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm -it myownvpn ovpn_initpki docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn -d -p 3333:1194/udp --cap-add=NET_ADMIN myownvpn docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm -it myownvpn easyrsa build-client-full lx nopass docker run -v /mnt/disk1/appdata/vpn-data:/etc/openvpn --rm myownvpn ovpn_getclient lx &gt; lx.ovpn FileBrowser docker run -d --name='FileBrowser' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'WEB_PORT'='10080' -p '10080:10080/tcp' -v '/mnt/disk1/appdata/FileBrowser':'/config':'rw' -v '/mnt':'/myfiles':'rw' '80x86/filebrowser' Aria2 &amp; NG docker run -d --name='aria2' --net='bridge' -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'PUID'='100' -e 'PGID'='100' -p '6800:6800/tcp' -p '6800:6800/udp' -p '8888:80/tcp' -p '8888:80/udp' -v '/mnt/disk1/Download':'/data':'rw' --log-opt max-size=1m 'wjg1101766085/aira2-ng:0.0.1' Aria2 &amp; WebUI docker run -d --name='Aria2WebUI' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '6800:6800/tcp' -p '6880:6880/tcp' -p '6800:6800/udp' -p '6880:6880/udp' -v '/mnt/disk1/appdata/Aria2WebUI':'/conf':'rw' -v '/mnt/disk1/Download':'/data':'rw' 'xujinkai/aria2-with-webui' Build Aria2WebUI docker run -it alpine apk update apk add aria2 git nodejs git clone https://github.com/ziahamza/webui-aria2.git exit docker commit -m=&quot;Aria2WebUI Basic Image&quot; -a='NTLx' 68b9f57b0d29 aria2webui:0.1 docker run -d --name &quot;Aria2WebUI&quot; -p 6800:6800 -p 8888:8888 -v /home/pi/Download:/home aria2webui:0.1 #aria2c --enable-rpc --rpc-listen-all #cd webui-aria2 #node node-server.js rrshare docker run -d --name='rrshare' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'PUID'='100' -e 'PGID'='99' -p '3001:3001/tcp' -v '/mnt/disk1/Download':'/opt/work/store':'rw' 'oldiy/rrshare64' AirSonic docker run -d --name='AirSonic' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '4040:4040/tcp' -p '4040:4040/udp' -v '/mnt/disk1/appdata/AirSonic':'/config':'rw' -v '/mnt/disk1/Music':'/music':'rw' -v '/mnt/disk1/Music/playlists':'/playlists':'rw' -v '/mnt/disk1/Music/podcasts':'/podcasts':'rw' 'linuxserver/airsonic' There are many Apps could connect to AirSonic Music Library as an easy to use music player. Calibre WEB docker run -d --name='Calibre' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '8080:8080/tcp' -p '8081:8081/tcp' -v '/mnt/disk1/Book/Calibre_Books':'/config':'rw' 'linuxserver/calibre' cp /mnt/disk1/Book/Calibre_Books/Calibre\\ Library/metadata.db /mnt/disk1/Book/ docker run -d --name='CalibreWeb' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '10082:8082/tcp' -p '10083:8083/tcp' -v '/mnt/disk1/appdata/CalibreWeb':'/config':'rw' -v '/mnt/disk1/Book/Calibre_Books/CalibreLibrary':'/books':'rw' 'linuxserver/calibre-web' If you get error &quot;DB location is not valid, please enter correct path&quot;, you could just put an empty database to where /books links to. LeaNote First, run CMD: docker run -d --name='LeaNote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '9000:9000/tcp' -p '9000:9000/udp' -v '/mnt/disk1/appdata/leanote/mongo':'/usr/local/bin/leanote/db_data':'rw' 'idealclover/leanote' Then, copy conf and public for docker path link: docker cp LeaNote:/usr/local/bin/leanote/conf /mnt/disk1/appdata/leanote/conf docker cp LeaNote:/usr/local/bin/leanote/public /mnt/disk1/appdata/leanote/public At last, stop this container and re-run with CMD: docker run -d --name='LeaNote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '9000:9000/tcp' -p '9000:9000/udp' -v '/mnt/disk1/appdata/leanote/conf':'/usr/local/bin/leanote/conf':'rw' -v '/mnt/disk1/appdata/leanote/public':'/usr/local/bin/leanote/public':'rw' -v '/mnt/disk1/appdata/leanote/mongo':'/usr/local/bin/leanote/db_data':'rw' 'idealclover/leanote' Default Administrator Account: admin Password: abc123 LeaNote (New) # docker run -d --name leanote --restart=always --log-opt max-size=1m -m 512M --cpus=1 -e SITEURL=&quot;[访问网址/IP+端口]&quot; -e LANG=&quot;zh-cn&quot; -e DAYS=&quot;3&quot; -p 8080:9000 -v [宿主机储存路径]/leanotedata:/data hjh142857/leanote docker run -d --name='leanote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'SITEURL'='http://ntlx.tpddns.cn:9000' -e 'LANG'='zh-cn' -e 'DAYS'='3' -p '20000:9000/tcp' -v '/mnt/disk1/appdata/leanotedata':'/data':'rw' 'hjh142857/leanote' Do not change default administrator account's username ! Default administrator account: admin / abc123 Default demo account: demo@leanote.com / demo@leanote.com Default backup files will be under /mnt/disk1/appdata/leanotedata/backup dir Copy backup files (tar.gz files named mongodb and leanote) to /mnt/disk1/appdata/leanotedata/restore dir to restore data WizNote docker run -d --name='WizNote' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '9000:80/tcp' -p '9000:80/udp' -p '9269:9269/udp' -v '/mnt/disk1/appdata/wiz':'/wiz/storage':'rw' 'wiznote/wizserver' Default Administrator account: admin@wiz.cn Password: 123456 If you need web clip function, you need pay for it. PostgreSQL docker run -d --name='postgresql' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'POSTGRES_PASSWORD'='password' -p '5432:5432/tcp' -v '/mnt/disk1/appdata/wikijs/postgresql':'/var/lib/postgresql/data':'rw' 'postgres' wikijs docker run -d --name='wikijs' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'DB_TYPE'='postgres' -e 'DB_HOST'='192.168.0.100' -e 'DB_PORT'='5432' -e 'DB_USER'='postgres' -e 'DB_PASS'='password' -e 'DB_NAME'='postgres' -p '3000:3000/tcp' 'requarks/wiki:beta' ElasticSearch docker run -d --name='ElasticSearch' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'discovery.type'='single-node' -p '9300:9300/tcp' -p '9200:9200/tcp' -p '9200:9200/udp' -p '9300:9300/udp' 'elasticsearch:7.7.1' docker exec -it ElasticSearch bash ./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.7.1/elasticsearch-analysis-ik-7.7.1.zip docker restart ElasticSearch Chinese word cut plugin: es-ik NextCloud Using PostgreSQL deployed along with wikijs docker run -d --name='NextCloud' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'POSTGRES_DB'='nextcloud' -e 'POSTGRES_USER'='postgres' -e 'POSTGRES_PASSWORD'='password' -e 'POSTGRES_HOST'='192.168.0.100' -e 'NEXTCLOUD_TRUSTED_DOMAINS'='lx.ntlx.xyz:82' -e 'NEXTCLOUD_TRUSTED_DOMAINS'='192.168.0.100:82' -p '82:80/tcp' -p '82:80/udp' -v '/mnt/disk1/appdata/NextCloud':'/var/www/html/':'rw' 'nextcloud' OnlyOffice Could connect to NextCloud and provide online document editing docker run -d --name='OnlyOffice' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '83:80/tcp' -p '83:80/udp' -v '/mnt/disk1/appdata/OnlyOffice/logs':'/var/log/onlyoffice':'rw' -v '/mnt/disk1/appdata/OnlyOffice/data':'/var/www/onlyoffice/Data':'rw' 'onlyoffice/documentserver' Wallabag docker run --name wallabag --log-opt max-size=1m -d --link postgresql:postgresql -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e &quot;POSTGRES_PASSWORD=password&quot; -e &quot;POSTGRES_USER=postgres&quot; -e &quot;SYMFONY__ENV__DATABASE_DRIVER=pdo_pgsql&quot; -e 'SYMFONY__ENV__DATABASE_DRIVER_CLASS=Wallabag\\CoreBundle\\Doctrine\\DBAL\\Driver\\CustomPostgreSQLDriver' -e &quot;SYMFONY__ENV__DATABASE_HOST=postgresql&quot; -e &quot;SYMFONY__ENV__DATABASE_PORT=5432&quot; -e &quot;SYMFONY__ENV__DATABASE_NAME=wallabag&quot; -e &quot;SYMFONY__ENV__DATABASE_USER=NTLx&quot; -e &quot;SYMFONY__ENV__DATABASE_PASSWORD=password&quot; -p 20000:80 wallabag/wallabag MatterWiKi git clone http://github.com/matterwiki/matterwiki cd matterwiki docker build -t matterwiki . docker run -d --name='MatterWiKi' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '5000:5000/tcp' -v '/mnt/disk1/appdata/MatterWiKi/db':'/server/db':'rw' 'matterwiki' Visit http://ip:5000/#/setup to set up administrator account. Open Project docker run -d --name='OpenProject' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -e 'SECRET_KEY_BASE'='secret' -p '10008:80/tcp' -v '/mnt/disk1/appdata/openproject/pgdata':'/var/openproject/pgdata':'rw' -v '/mnt/disk1/appdata/openproject/assets':'/var/openproject/assets':'rw' 'openproject/community:latest' ERPNext # docker run -d --name='ERPNext' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '16000:80/tcp' -v '/mnt/disk1/appdata/ERPNext/frappe/site1.local':'/home/frappe/frappe-bench/sites/site1.local':'rw' -v '/mnt/disk1/appdata/ERPNext/logs':'/home/frappe/frappe-bench/logs':'rw' -v '/mnt/disk1/appdata/ERPNext/mysql':'/var/lib/mysql':'rw' 'lukptr/erpnext7' docker run -d --name='ERPNext' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -p '16000:80/tcp' 'lukptr/erpnext7' Default Admin User Account: Administrator Password: 12345678 Usefull CMD: # Copy files from Docker Container to outside docker cp ERPNext:/home/frappe/frappe-bench/sites/site1.local /mnt/disk1/appdata/ERPNext/frappe/ docker cp ERPNext:/home/frappe/frappe-bench/logs /mnt/disk1/appdata/ERPNext/ docker cp ERPNext:/var/lib/mysql /mnt/disk1/appdata/ERPNext/ # Enter Docker Container docker exec -it ERPNext bash # Run CMD inside Docker Container bench update bench migrate bench backup Data backup: docker exec -it ERPNext bash ## run this CMD inside docker container bench backup # backup ## run this CMD inside docker container docker cp ERPNext:/home/frappe/frappe-bench/sites/site1.local/private/backups /mnt/disk1/appdata/ERPNext/ # copy backup files ## run this CMD inside docker container Data restore: docker cp /mnt/disk1/appdata/ERPNext/backups/database.sql.gz ERPNext:/home/frappe/ docker exec -it ERPNext bash bench --force restore /home/frappe/database.sql.gz netdata docker run -d --name='netdata' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; --security-opt 'apparmor'='unconfined' --cap-add SYS_PTRACE -p '19999:19999/tcp' -v '/etc/passwd':'/host/etc/passwd':'ro' -v '/etc/group':'/host/etc/group':'ro' -v '/proc':'/host/proc':'ro' -v '/sys':'/host/sys':'ro' -v '/var/run/docker.sock':'/var/run/docker.sock':'ro' 'netdata/netdata' Watchtower Docker container auto update. docker run -d --name='Watchtower' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e HOST_OS=&quot;Unraid&quot; -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower AirSonic CalibreWeb FileBrowser wikijs WizNote UNRAID Virtual Machine Black Synology DSM Mount NFS folder to DSM: /bin/mount -t nfs -o hard 192.168.0.100:/mnt/disk2/Photo /volume1/photo ","link":"http://www.ntlx.top/post/unraid/"},{"title":"VMWare","content":"Most of this artical was written for v6.7u3, and the lastest is v7.0U2a Get ESXi Use Online protocal or Offline protocal Install VMware PowerCLI To install PowerCLI just open a PowerShell console and run the command below: Install-Module VMware.PowerCLI -Scope CurrentUser Get EXSi iso Get latest ESXi-Customizer-PS Release After extraction, run ESXi-Customizer-PS.ps1 in PowerShell, like below: .\\ESXi-Customizer-PS.ps1 -v70 -vft -load sata-xahci,net55-r8168 If you cannot run this powershell script, just run Set-ExecutionPolicy Unrestricted and enter Y Install ESXi Using VMware-VMvisor-Installer-6.7.0.update03-14320388.x86_64.iso Flash iso file to USB drive, then install to server. when setting root password, use tab or direction key to switch input lines. After the installation, use web interface to manage. Set ESXi Key Just a free key for test, limits: up to 8 vCPUs per virtual machine. HY0XH-D508H-081U8-JA2GH-CCUM2 # Or VMware vSphere 6 Enterprise Plus 0A65P-00HD0-3Z5M1-M097M-22P7H Add storage Do this if you have more disks. RDM Choose online method or offline method. Install virtual systems Mac OS Need to &quot;crack&quot; first. Download esxi-unlocker, extract, then run the script ./esxi-install.sh. Reboot ESXi after above. For VMware Fusion or WorkStation, download unlocker Setting in virtual Mac Activate HiDPI sudo defaults write /Library/Preferences/com.apple.windowserver DisplayResolutionEnabled -bool YES sudo defaults delete /Library/Preferences/com.apple.windowserver DisplayResolutionDisabled then reboot. Change screen resolution /Library/Application\\ Support/VMware\\ Tools/vmware-resolutionSet 3416 1920 About Backup Virtual Machine Enable VMware Changed Block Tracking (CBT) to only back up blocks that have changed since last backup time and greatly reduce the transferred data size and time for backup. This part of content will guide you through the process of enabling CBT manually in VMware vSphere. Please follow the instructions of VMware and perform the following steps. Here is the setting example for backing up a virtual machine in ESXi to a Synology NAS Power off the virtual machine. You will not be able to successfully complete the setting without powering off the virtual machine. Right-click the virtual machine and click Edit Settings. Click VM Options tab. Click Advanced and then click Edit Configuration next to Configuration Parameters. It will open the Configuration Parameters dialog. Click Add parameters, add the ctkEnabled parameter, and set its value to true. Click Add parameters, add scsi0:0.ctkEnabled, and set its value to true. Whenever a hard drive is added to the virtual machine, a SCSI device will be assigned to the hard drive. scsi0:0 in scsi0:0.ctkEnabled represents the SCSI device, while the others display similar to scsi0:1, or scsi 1:1. You can enable or disable CBT individually on each hard drive. Then, power on the virtual machine, in the home directory of the virtual machine, verify that each drive having CBT enabled has also a vmname-ctk.vmdk file. The instruction above is referring to this website: VMware KB 1031873. It might be subject to change in different versions of VMware vSphere. You may find more up-to-date details regarding enabling CBT in VMware VMs on VMware KB 1031873. After CBT is enabled, the first backup will still be full backup, and the subsequent backups will be incremental backup. About Client VMWare WorkStation Version 15 Use any key below for test: ZC10K-8EF57-084QZ-VXYXE-ZF2XF UF71K-2TW5J-M88QZ-8WMNT-WKUY4 AZ7MK-44Y1J-H819Z-WMYNC-N7ATF CU702-DRD1M-H89GP-JFW5E-YL8X6 YY5EA-00XDJ-480RP-35QQV-XY8F6 VA510-23F57-M85PY-7FN7C-MCRG0 ","link":"http://www.ntlx.top/post/vmware/"},{"title":"Ubuntu Server Installation Note","content":"How to deploy Ubuntu Server operation system to a server or any computer. Download OS image Ubuntu 18.04.5 Server Download Link Create bootable USB drive Rufus 3.14 (Portable) Download Link You can find usage instructions on Rufus Official Web Site. Install System Devices Dependency Plug in the bootable USB drive which created by Rufus &amp; OS image to target server Plug in a screen to target server Plug in a keyboard Connect Power Connect network (optional) Installation Power on. Select language (English). If you see screen as below, choose Continue without updating. Keep the default layout, then choos Done. If you have no specific network requirment, just keep the default network settings, choose Done. Then you'll be in Configure proxy step. Usually, we keep the default settings and just choose Done, but if you want update system through the internet during the installation or you want add some software during the installation, you may need set proxy correct to get some foreign resources. Compared to proxy, set a suitable mirror is far more usefull for system installation (if you need update or add software during the installation from the internet). For convenience, we keep the default setting and choose Done. In Guided storage configuration, move cursor down and uncheck Set up this disk as an LVM group, after this operation, the screen will look like below, then just choose Done. We need a little modify in Storage configuration. You'll see the pic below in this step. Move cursor up to partition 2 (here is only show settings for one disk for example), then hit Enter, the screen will be look like below: Choose Edit and then change Format to xfs, the screen will be look like below: Save settings and choose Done, then choose Continue when you see below: Set suitable info for your system, the screen will be look like below: Recommand set profile like this: Your name: manager Your server's name: ubuntu Pick a username: manager Choose a password: YOURPASSWORD Confirm your password: YOURPASSWORD And the screen will be look like this: In SSH Setup, you need check Install OpenSSH server in order to connect your server through the internet after the system installaion, the screen will be look like below: Don't choose any package in Featured Server Snaps, just choose Done directly. Then you'll see the installation progress screen: When you see screen like below, you can Reboot system and that's all of the basic installation steps (remove USB device may be required, there will be notes on the screen). ","link":"http://www.ntlx.top/post/ubuntu-server-installation-note/"},{"title":"Add Linux to AD","content":"Tested on Ubuntu Host Name cat &gt; /etc/hostname vmpc-ubuntu.cm.com # test hostname hostname -f host vmpc-ubuntu.cm.com host xxx.xxx.xxx.xxx DNS Both hostname and reverse lookup had been set up before further settings. Time Synchronisation The default clock skew tolerance is 300 seconds (5 minutes) cat &gt;&gt; /etc/systemd/timesyncd.conf NTP=ad.cm.com FallbackNTP=ntp.ubuntu.com Test: timedatectl status PBIS-Open Installation Download PowerBroker Identity Service Open &quot;AD Bridge&quot; on Github, then: sudo pbis-open-9.1.0.551.linux.x86_64.deb.sh Add sudo privileges cat &gt; /etc/sudoers.d/local CM\\\\CM021 ALL=(ALL) ALL %CM\\\\domain^admins ALL=(ALL) ALL PBIS-Open Settings Change the default shell (from /bin/sh to /bin/bash): sudo /opt/pbis/bin/config LoginShellTemplate /bin/bash Change home dir (default is /home/local/&lt;Domain Name&gt;/&lt;User Name&gt;): sudo /opt/pbis/bin/config HomeDirTemplate %H/%D/%U %H = home , %D = AD Name , %U = User Name PBIS-Open Commands Join AD: sudo domainjoin-cli join --disable ssh cm.com Administrator Check status: sudo domainjoin-cli query Check users in AD: /opt/pbis/bin/enum-users Check groups in AD: /opt/pbis/bin/enum-groups Check groups for a user: /opt/pbis/bin/list-groups-for-user Leave current AD: sudo domainjoin-cli leave ","link":"http://www.ntlx.top/post/add-linux-to-ad/"},{"title":"Active Directory","content":"Usefull Settings Collection Windows Server 配置文件漫游 路径设置示例：\\\\dsm.cm.com\\Remote\\%username% ","link":"http://www.ntlx.top/post/active-directory/"},{"title":"RSS Collections","content":"Collect Great RSS Sources 少数派 電腦玩物 Mac 玩儿法 爱范儿 小众软件 异次元软件世界 反斗软件 国家地理中文 极客公园 湾区日报 煎蛋 理想生活实验室 编程随想的博客 阮一峰的网络日志 ","link":"http://www.ntlx.top/post/rss-collections/"},{"title":"Docker","content":"Usage &amp; Settings Install Docker in OSs CentOS Ubuntu Windows Mac OS Install Docker Compose Set mirror for registry Add below to /etc/docker/daemon.json { &quot;registry-mirrors&quot; : [ &quot;http://docker.mirrors.ustc.edu.cn&quot; ], &quot;insecure-registries&quot; : [ &quot;docker.mirrors.ustc.edu.cn&quot; ], &quot;debug&quot; : true, &quot;experimental&quot; : true } Set Proxy for container Add below to ~/.docker/config.json { &quot;proxies&quot;: { &quot;default&quot;: { &quot;httpProxy&quot;: &quot;http://xxx:xxx&quot;, &quot;httpsProxy&quot;: &quot;http://xxx:xxx&quot;, &quot;noProxy&quot;: &quot;*.ntlx.top&quot; } } } Tips Clear Docker Logs Reference #!/bin/sh echo &quot;==================== start clean docker containers logs ==========================&quot; logs=$(find /var/lib/docker/containers/ -name *-json.log) for log in $logs do echo &quot;clean logs : $log&quot; cat /dev/null &gt; $log done echo &quot;==================== end clean docker containers logs ==========================&quot; Service Deploy Note Nexus 如果构建的 Docker Image 比较多，推荐自建仓库进行管理 mkdir -p /public/Docker/Nexus chown -R 200 /public/Docker/Nexus docker run -d -p 8081:8081 -v /public/Docker/Nexus:/nexus-data --name nexus sonatype/nexus3 访问 http://Docker.Host.IP:8081 进行配置，账户名为 admin，初始密码在 /public/Docker/Nexus/admin.password 文件里 Nexus 还能作为各种包管理器、数据库甚至脚本的存储仓库，方便进行发布管理 Nexus 支持接入 LDAP 进行多用户管理 Login ERROR Issue: Error saving credentials: error storing credentials - err: exit status 1, out: `Cannot autolaunch D-Bus without X11 $DISPLAY` Fix: dpkg -r --ignore-depends=golang-docker-credential-helpers golang-docker-credential-helpers postgresql docker run -d --name='postgresql' --restart unless-stopped --log-opt max-size=10m -e 'POSTGRES_PASSWORD'='password' -p '5432:5432/tcp' -v './postgresql':'/var/lib/postgresql/data':'rw' 'postgres' wikijs docker run -d --name='wikijs' --restart unless-stopped --log-opt max-size=10m -e 'DB_TYPE'='postgres' -e 'DB_HOST'='10.1.1.4' -e 'DB_PORT'='5432' -e 'DB_USER'='postgres' -e 'DB_PASS'='password' -e 'DB_NAME'='postgres' -e SSL_ACTIVE=true -e LETSENCRYPT_DOMAIN=ntlx.top -e LETSENCRYPT_EMAIL=xxx@outlook.com -p 80:3000 -p 443:3443 'requarks/wiki' aria2 version: &quot;3&quot; services: aria2: image: superng6/aria2 container_name: aria2 restart: unless-stopped environment: - PUID=1000 - PGID=1000 - TZ=Asia/Shanghai - SECRET=YourAria2SecretToken - CACHE=512M - UT=true - RUT=true - QUIET=true - FA=falloc - RECYCLE=true - MOVE=true - SMD=false - ANIDIR=ani - MOVDIR=movies - TVDIR=tv - CUSDIR=Z volumes: - ./config:/config - ./Download:/downloads ports: - 6881:6881 - 6881:6881/udp - 6800:6800 logging: options: max-size: &quot;1m&quot; ariang: image: superng6/ariang container_name: ariang restart: unless-stopped ports: - 8888:80 logging: options: max-size: &quot;1m&quot; Gitea version: &quot;3&quot; networks: gitea: external: false services: server: image: gitea/gitea:latest container_name: gitea restart: always environment: - USER_UID=1000 - USER_GID=1000 - DB_TYPE=postgres - DB_HOST=postgres:5432 - DB_NAME=gitea - DB_USER=gitea - DB_PASSWD=gitea networks: - gitea volumes: - /public/gitea:/data - /etc/timezone:/etc/timezone:ro - /etc/localtime:/etc/localtime:ro ports: - &quot;80:3000&quot; - &quot;222:22&quot; depends_on: - postgres postgres: image: postgres:13 container_name: postgres restart: always environment: - POSTGRES_USER=gitea - POSTGRES_PASSWORD=gitea - POSTGRES_DB=gitea networks: - gitea volumes: - ./postgres:/var/lib/postgresql/data gitlab version: &quot;3&quot; services: gitlab: image: 'gitlab/gitlab-ce' restart: always container_name: gitlab hostname: 'ntlx.top' environment: GITLAB_OMNIBUS_CONFIG: | external_url 'http://ntlx.top:23333' gitlab_rails['gitlab_shell_ssh_port'] = 22222 ports: - '23333:23333' - '22222:22' volumes: - './config:/etc/gitlab' - './logs:/var/log/gitlab' - './data:/var/opt/gitlab' logging: options: max-size: &quot;1m&quot; SMTP Settings If you would rather send application email via an SMTP server instead of via Sendmail, add the following configuration information to /etc/gitlab/gitlab.rb and run gitlab-ctl reconfigure, for example: gitlab_rails['gitlab_email_enabled'] = true gitlab_rails['smtp_enable'] = true gitlab_rails['smtp_address'] = &quot;smtp.xxx.com&quot; gitlab_rails['smtp_port'] = 25 gitlab_rails['smtp_user_name'] = &quot;xxx@xxx.com&quot; gitlab_rails['smtp_password'] = &quot;YourPassword&quot; gitlab_rails['smtp_domain'] = &quot;xxx.com&quot; gitlab_rails['smtp_authentication'] = &quot;login&quot; gitlab_rails['smtp_enable_starttls_auto'] = false gitlab_rails['smtp_tls'] = false gitlab_rails['gitlab_email_from'] = 'xxx@xxx.com' gitlab_rails['gitlab_email_display_name'] = 'xxx GitLab' gitlab_rails['gitlab_email_reply_to'] = 'xxx@xxx.com' NextCloud docker run -d --name='NextCloud' --restart unless-stopped --log-opt max-size=10m -e 'POSTGRES_DB'='nextcloud' -e 'POSTGRES_USER'='postgres' -e 'POSTGRES_PASSWORD'='password' -e 'POSTGRES_HOST'='10.1.1.4' -e 'NEXTCLOUD_TRUSTED_DOMAINS'='ntlx.top:8080' -p '8080:80/tcp' -p '8080:80/udp' -v './NextCloud':'/var/www/html/':'rw' 'nextcloud' FreshRSS docker run -d --name=FreshRSS --log-opt max-size=10m --restart unless-stopped -e PUID=1000 -e PGID=1000 -e TZ=Asia/Shanghai -p 8070:80 -v ./config:/config linuxserver/freshrss Rstudio Server docker run --name &quot;Rstudio&quot; -d --restart unless-stopped --log-opt max-size=10m -p 8787:8787 -p 6311:6311 -v ./RstudioServer/home:/home quantumobject/docker-rstudio Add user docker exec -it Rstudio /bin/bash adduser lx passwd password mkdir /home/lx chmod -R 755 /home/lx PPTP docker run -d --name='PPTP' --net='bridge' --log-opt max-size=10m --privileged=true -e TZ=&quot;Asia/Shanghai&quot; -p '1723:1723/tcp' -p '1723:1723/udp' -v './PPTP/chap-secrets':'/etc/ppp/chap-secrets':'rw' 'mobtitude/vpn-pptp' L2TP modprobe af_key docker run -d --name='L2TP' --net='bridge' --privileged=true -e TZ=&quot;Asia/Shanghai&quot; -p '500:500/tcp' -p '500:500/udp' -p '4500:4500/tcp' -p '4500:4500/udp' -p '1701:1701/tcp' -p '1701:1701/udp' -v '/lib/modules':'/lib/modules':'ro' --env-file ./L2TP/L2TP.env --log-opt max-size=10m 'fcojean/l2tp-ipsec-vpn-server' Cloudflare DDNS Using config file joshava/cloudflare-ddns for x86_64 CPU, joshava/cloudflare-ddns:arm32v6 for pi docker run -d --name=DDNS -v ./CloudflareDDNS/config.yaml:/app/config.yaml joshava/cloudflare-ddns:arm32v6 docker compose version: version: &quot;3&quot; services: ddns: image: joshava/cloudflare-ddns restart: always container_name: ddns volumes: - './CloudflareDDNS/config.yaml:/app/config.yaml' Example config file: auth: scopedToken: xxx domains: - name: xxx type: A proxied: false create: true zoneId: xxx Using env settings tags for arm: arm32v6, armhf, aarch64, arm64v8, latest docker run -d --name=DDNS -e API_KEY=xxx -e ZONE=xxx -e SUBDOMAIN=xxx oznu/cloudflare-ddns ","link":"http://www.ntlx.top/post/docker/"},{"title":"Raspberry Pi","content":"The most popular IoT core! k3s Five years of Raspberry Pi Clusters Initial configure For Official OS: Raspbian Buster (based on Debian) Add blow content to a file, such as ~/init.sh, then just run it like this ~/init.sh. #!/usr/bin/expect -f sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak sudo cp /etc/apt/sources.list.d/raspi.list /etc/apt/sources.list.d/raspi.list.bak cat &lt;&lt; EOF &gt; sources.list deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi EOF cat &lt;&lt; EOF &gt; raspi.list deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui deb-src http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui EOF mkdir -p ~/.pip/ cat &lt;&lt; EOF &gt; ~/.pip/pip.conf [global] index-url = https://pypi.tuna.tsinghua.edu.cn/simple/ EOF sudo cp sources.list /etc/apt/sources.list sudo cp raspi.list /etc/apt/sources.list.d/raspi.list sudo apt update sudo apt upgrade -y sudo apt install -y git vim htop ncdu tmux bash-completion tcl expect sudo apt install -y p7zip-full libio-compress-perl unrar-free unzip ncompress libperlio-gzip-perl bzip2 cat &lt;&lt; EOF &gt;&gt; ~/.bashrc tablook () { column -s $'\\t' -t &quot;\\$1&quot; | less -S } alias les=&quot;less -SN&quot; alias ls=&quot;ls --color=auto&quot; alias l=&quot;ls -a&quot; alias ll=&quot;ls -l&quot; alias lll=&quot;ls -la&quot; alias ..='cd ..' alias ...='cd ../../' alias ....='cd ../../../' alias .....='cd ../../../../' alias ......='cd ../../../../../' # Use mcd to create a directory and cd to it simultaneously: function mcd { mkdir -p &quot;\\$1&quot; &amp;&amp; cd &quot;\\$1&quot;;} # Make grep pretty: alias grep=&quot;grep --color=auto&quot; # Show your \\$PATH in a prettier format: alias showpath='echo \\$PATH | tr &quot;:&quot; &quot;\\n&quot; | nl' # as suggested by Mendel Cooper in &quot;Advanced Bash Scripting Guide&quot; extract () { if [ -f \\$1 ] ; then case \\$1 in *.tar.bz2) tar xvjf \\$1 ;; *.tar.gz) tar xvzf \\$1 ;; *.tar.xz) tar Jxvf \\$1 ;; *.bz2) bunzip2 \\$1 ;; *.rar) unrar x \\$1 ;; *.gz) gunzip \\$1 ;; *.tar) tar xvf \\$1 ;; *.tbz2) tar xvjf \\$1 ;; *.tgz) tar xvzf \\$1 ;; *.zip) unzip \\$1 ;; *.Z) uncompress \\$1 ;; *.7z) 7z x \\$1 ;; *) echo &quot;don't know how to extract '\\$1'...&quot; ;; esac else echo &quot;'\\$1' is not a valid file!&quot; fi } EOF source ~/.bashrc git config --global user.name &quot;NTLx&quot; git config --global user.email &quot;lx3325360@gmail.com&quot; spawn ssh-keygen -t rsa -b 4096 -C &quot;lx3325360@gmail.com&quot; expect &quot;*home*&quot; send &quot;\\n&quot; expect &quot;*empty*&quot; send &quot;\\n&quot; expect &quot;*again*&quot; send &quot;\\n&quot; expect eof # sudo apt install -y zsh zsh-autosuggestions zsh-syntax-highlighting zsh-theme-powerlevel9k remmina remmina-common remmina-dev remmina-plugin-rdp remmina-plugin-vnc fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin # cat &lt;&lt; EOF &gt; ~/.zshrc # source /usr/share/powerlevel9k/powerlevel9k.zsh-theme # source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh # source /usr/share/zsh-autosuggestions/zsh-autosuggestions.zsh # export TERM=&quot;xterm-256color&quot; # POWERLEVEL9K_PROMPT_ON_NEWLINE=true # POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(os_icon user dir_writable dir vcs) # POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status command_execution_time root_indicator background_jobs time disk_usage ram load) # POWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX=&quot;%(?:%{$fg_bold[green]%}➜ :%{$fg_bold[red]%}➜ )&quot; # POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX=&quot;&quot; # POWERLEVEL9K_USER_ICON=&quot;\\uF415&quot; # &lt;U+F415&gt; # POWERLEVEL9K_ROOT_ICON=&quot;\\uF09C&quot; # POWERLEVEL9K_SUDO_ICON=$'\\uF09C' # &lt;U+F09C&gt; # POWERLEVEL9K_TIME_FORMAT=&quot;%D{%H:%M}&quot; # POWERLEVEL9K_VCS_GIT_ICON='\\uF408' # POWERLEVEL9K_VCS_GIT_GITHUB_ICON='\\uF408' # EOF echo 'You can now reboot your rpi to take effect, Good Luck!' Install Docker curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun sudo usermod -aG docker pi Install Docker Compose sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose OR sudo apt install -y libssl-dev libffi-dev sudo apt install -y python3-pip pip3 install docker-compose Additional Settings Especially for Raspbian Buster Lite Default user: pi Default user password: raspberry Turn on SSH: sudo raspi-config, choose 5 Interface Options, then choose SSH to enable. Connect WiFi: sudo raspi-config, choose 2 Network Options, then choose N2 Wi-fi and enter SSID &amp; password to connect. CPU Temprature Could just write a perl script to check, like CPU.pl: #!/usr/bin/perl while(1) { print `cat /sys/class/thermal/thermal_zone0/temp`/1000; &lt;STDIN&gt;; } Manjaro For ARM Download system file Download system installation mirror files at OSDN, you can choose form minimal, xfce, kde-plasma, mate and lxqt. Flash to TF card Use Etcher or dd command described below: find portable device in Mac OS (use diskutil list) or Linux (use lsblk or df or something), for example /dev/disk2. Unmount portable device on Mac OS (diskutil unmountDisk /dev/disk2) or Linux (umount /dev/sdb). Use command dd to flash a system file to portable device like below: sudo dd if=path/to/img_or_iso of=/dev/disk2 bs=4m;sync Remember to eject the portable device after above steps on Mac OS (diskutil eject /dev/disk2) or Linux (eject -s /dev/disk2). Choose mirror For users in China, Denmark is the fastest mirror currently. sudo pacman-mirrors -c Denmark -m rank [-i] Instalation Script sudo cp /etc/pacman.conf /etc/pacman.conf.bak cat &lt;&lt; EOF &gt; ~/pacman.conf [options] HoldPkg = pacman glibc manjaro-system XferCommand = /usr/bin/curl -x http://192.168.120.63:8888 -C - -f %u --output %o Architecture = aarch64 CheckSpace VerbosePkgLists SigLevel = Required DatabaseOptional LocalFileSigLevel = Optional [core] Include = /etc/pacman.d/mirrorlist [extra] Include = /etc/pacman.d/mirrorlist [community] Include = /etc/pacman.d/mirrorlist EOF sudo cp ~/pacman.conf /etc/pacman.conf git config --global http.proxy http://192.168.120.63:8888 git config --global https.proxy http://192.168.120.63:8888 export http_proxy=&quot;http://192.168.120.63:8888&quot;; export https_proxy=&quot;http://192.168.120.63:8888&quot;; export ftp_proxy=&quot;http://192.168.120.63:8888&quot; sudo pacman-mirrors -c United_States -m rank sudo pacman -Syyu sudo pacman -S patch pkgconf fakeroot autoconf automake make cmake gcc clang vim yay wqy-microhei binutils nasm yay -S xrdp sudo systemctl enable xrdp.service sudo systemctl start xrdp.service sudo pacman -S remmina # sudo pacman -S patch pkgconf fakeroot autoconf automake make cmake gcc clang vim yay wqy-microhei freerdp remmina # yay -S xrdp xorgxrdp remmina-plugin-rdesktop remmina # libtool --finish /usr/lib/xrdp # libtool --finish /usr/lib/xorg/modules/input Windows IoT For ARM Download system Go to UUP dump, choose a system version (arm64), and choose Download using aria2 and convert, get the generated *.zip file, extract it, then run *.cmd under a windows system, you will get the *.iso system mirror file. Deploy system to TF card First, download WOA. Then, open system file (*.iso), and choose source/install.wim as source for deploying. Software Aria2 &amp; NG git clone git@github.com:NTLx/aira2-ng.git docker build -t aira2webui-ng aira2-ng mkdir -p /home/pi/Download /home/pi/aria2_conf docker run -d --name='aria2' -p '6800:6800/tcp' -p '6800:6800/udp' -p '80:80/tcp' -p '80:80/udp' -v '/home/pi/Download':'/data':'rw' -v '/home/pi/aria2_conf':'/config':'rw' aira2webui-ng Disk sudo mkfs.xfs -f /dev/sda1 SMB sudo /etc/init.d/smbd restart sudo /etc/init.d/nmbd restart Service Dploy (by Docker) PostgreSQL docker run -d --name='postgresql' --net='bridge' --log-opt max-size=1m -e TZ=&quot;Asia/Shanghai&quot; -e 'POSTGRES_PASSWORD'='password' -p '5432:5432/tcp' -v '/home/pi/postgresql':'/var/lib/postgresql/data':'rw' 'postgres' ","link":"http://www.ntlx.top/post/raspberry-pi/"},{"title":"ZSH","content":"ZSH Installation &amp; Settings Notes Configure based on Oh my Zsh sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot; git clone https://github.com/zsh-users/zsh-completions ${ZSH_CUSTOM:=~/.oh-my-zsh/custom}/plugins/zsh-completions cd ~/.oh-my-zsh/custom/plugins git clone https://github.com/zsh-users/zsh-syntax-highlighting.git cd ~/.oh-my-zsh/custom/themes git clone https://github.com/romkatv/powerlevel10k.git echo &quot;ZSH_THEME=powerlevel10k/powerlevel10k&quot; &gt;&gt; ~/.zshrc p10k configure # For Mac OS: cd ~/.oh-my-zsh/custom/plugins git clone https://github.com/scriptingosx/mac-zsh-completions.git Edit ~/.zshrc for setting: ZSH_THEME=powerlevel10k/powerlevel10k plugins=(git zsh-syntax-highlighting zsh-completions) autoload -U compinit &amp;&amp; compinit # For Mac OS: plugins=(... mac-zsh-completions) Default Settings within Popular OSs Manjaro Architect /etc/zsh/zprofile emulate sh -c 'source /etc/profile' ~/.zshrc ## Options section setopt correct # Auto correct mistakes setopt extendedglob # Extended globbing. Allows using regular expressions with * setopt nocaseglob # Case insensitive globbing setopt rcexpandparam # Array expension with parameters setopt nocheckjobs # Don't warn about running processes when exiting setopt numericglobsort # Sort filenames numerically when it makes sense setopt nobeep # No beep setopt appendhistory # Immediately append history instead of overwriting setopt histignorealldups # If a new command is a duplicate, remove the older one setopt autocd # if only directory path is entered, cd there. zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}' # Case insensitive tab completion zstyle ':completion:*' list-colors &quot;${(s.:.)LS_COLORS}&quot; # Colored completion (different colors for dirs/files/etc) zstyle ':completion:*' rehash true # automatically find new executables in path # Speed up completions zstyle ':completion:*' accept-exact '*(N)' zstyle ':completion:*' use-cache on zstyle ':completion:*' cache-path ~/.zsh/cache HISTFILE=~/.zhistory HISTSIZE=1000 SAVEHIST=500 #export EDITOR=/usr/bin/nano #export VISUAL=/usr/bin/nano WORDCHARS=${WORDCHARS//\\/[&amp;.;]} # Don't consider certain characters part of the word ## Keybindings section bindkey -e bindkey '^[[7~' beginning-of-line # Home key bindkey '^[[H' beginning-of-line # Home key if [[ &quot;${terminfo[khome]}&quot; != &quot;&quot; ]]; then bindkey &quot;${terminfo[khome]}&quot; beginning-of-line # [Home] - Go to beginning of line fi bindkey '^[[8~' end-of-line # End key bindkey '^[[F' end-of-line # End key if [[ &quot;${terminfo[kend]}&quot; != &quot;&quot; ]]; then bindkey &quot;${terminfo[kend]}&quot; end-of-line # [End] - Go to end of line fi bindkey '^[[2~' overwrite-mode # Insert key bindkey '^[[3~' delete-char # Delete key bindkey '^[[C' forward-char # Right key bindkey '^[[D' backward-char # Left key bindkey '^[[5~' history-beginning-search-backward # Page up key bindkey '^[[6~' history-beginning-search-forward # Page down key # Navigate words with ctrl+arrow keys bindkey '^[Oc' forward-word # bindkey '^[Od' backward-word # bindkey '^[[1;5D' backward-word # bindkey '^[[1;5C' forward-word # bindkey '^H' backward-kill-word # delete previous word with ctrl+backspace bindkey '^[[Z' undo # Shift+tab undo last action ## Alias section alias cp=&quot;cp -i&quot; # Confirm before overwriting something alias df='df -h' # Human-readable sizes alias free='free -m' # Show sizes in MB alias gitu='git add . &amp;&amp; git commit &amp;&amp; git push' # Theming section autoload -U compinit colors zcalc compinit -d colors # enable substitution for prompt setopt prompt_subst # Prompt (on left side) similar to default bash prompt, or redhat zsh prompt with colors #PROMPT=&quot;%(!.%{$fg[red]%}[%n@%m %1~]%{$reset_color%}# .%{$fg[green]%}[%n@%m %1~]%{$reset_color%}$ &quot; # Maia prompt PROMPT=&quot;%B%{$fg[cyan]%}%(4~|%-1~/.../%2~|%~)%u%b &gt;%{$fg[cyan]%}&gt;%B%(?.%{$fg[cyan]%}.%{$fg[red]%})&gt;%{$reset_color%}%b &quot; # Print some system information when the shell is first started # Print a greeting message when shell is started echo $USER@$HOST $(uname -srm) $(lsb_release -rcs) ## Prompt on right side: # - shows status of git when in git repository (code adapted from https://techanic.net/2012/12/30/my_git_prompt_for_zsh.html) # - shows exit status of previous command (if previous command finished with an error) # - is invisible, if neither is the case # Modify the colors and symbols in these variables as desired. GIT_PROMPT_SYMBOL=&quot;%{$fg[blue]%}±&quot; # plus/minus - clean repo GIT_PROMPT_PREFIX=&quot;%{$fg[green]%}[%{$reset_color%}&quot; GIT_PROMPT_SUFFIX=&quot;%{$fg[green]%}]%{$reset_color%}&quot; GIT_PROMPT_AHEAD=&quot;%{$fg[red]%}ANUM%{$reset_color%}&quot; # A&quot;NUM&quot; - ahead by &quot;NUM&quot; commits GIT_PROMPT_BEHIND=&quot;%{$fg[cyan]%}BNUM%{$reset_color%}&quot; # B&quot;NUM&quot; - behind by &quot;NUM&quot; commits GIT_PROMPT_MERGING=&quot;%{$fg_bold[magenta]%}⚡︎%{$reset_color%}&quot; # lightning bolt - merge conflict GIT_PROMPT_UNTRACKED=&quot;%{$fg_bold[red]%}●%{$reset_color%}&quot; # red circle - untracked files GIT_PROMPT_MODIFIED=&quot;%{$fg_bold[yellow]%}●%{$reset_color%}&quot; # yellow circle - tracked files modified GIT_PROMPT_STAGED=&quot;%{$fg_bold[green]%}●%{$reset_color%}&quot; # green circle - staged changes present = ready for &quot;git push&quot; parse_git_branch() { # Show Git branch/tag, or name-rev if on detached head ( git symbolic-ref -q HEAD || git name-rev --name-only --no-undefined --always HEAD ) 2&gt; /dev/null } parse_git_state() { # Show different symbols as appropriate for various Git repository states # Compose this value via multiple conditional appends. local GIT_STATE=&quot;&quot; local NUM_AHEAD=&quot;$(git log --oneline @{u}.. 2&gt; /dev/null | wc -l | tr -d ' ')&quot; if [ &quot;$NUM_AHEAD&quot; -gt 0 ]; then GIT_STATE=$GIT_STATE${GIT_PROMPT_AHEAD//NUM/$NUM_AHEAD} fi local NUM_BEHIND=&quot;$(git log --oneline ..@{u} 2&gt; /dev/null | wc -l | tr -d ' ')&quot; if [ &quot;$NUM_BEHIND&quot; -gt 0 ]; then GIT_STATE=$GIT_STATE${GIT_PROMPT_BEHIND//NUM/$NUM_BEHIND} fi local GIT_DIR=&quot;$(git rev-parse --git-dir 2&gt; /dev/null)&quot; if [ -n $GIT_DIR ] &amp;&amp; test -r $GIT_DIR/MERGE_HEAD; then GIT_STATE=$GIT_STATE$GIT_PROMPT_MERGING fi if [[ -n $(git ls-files --other --exclude-standard 2&gt; /dev/null) ]]; then GIT_STATE=$GIT_STATE$GIT_PROMPT_UNTRACKED fi if ! git diff --quiet 2&gt; /dev/null; then GIT_STATE=$GIT_STATE$GIT_PROMPT_MODIFIED fi if ! git diff --cached --quiet 2&gt; /dev/null; then GIT_STATE=$GIT_STATE$GIT_PROMPT_STAGED fi if [[ -n $GIT_STATE ]]; then echo &quot;$GIT_PROMPT_PREFIX$GIT_STATE$GIT_PROMPT_SUFFIX&quot; fi } git_prompt_string() { local git_where=&quot;$(parse_git_branch)&quot; # If inside a Git repository, print its branch and state [ -n &quot;$git_where&quot; ] &amp;&amp; echo &quot;$GIT_PROMPT_SYMBOL$(parse_git_state)$GIT_PROMPT_PREFIX%{$fg[yellow]%}${git_where#(refs/heads/|tags/)}$GIT_PROMPT_SUFFIX&quot; # If not inside the Git repo, print exit codes of last command (only if it failed) [ ! -n &quot;$git_where&quot; ] &amp;&amp; echo &quot;%{$fg[red]%} %(?..[%?])&quot; } # Right prompt with exit status of previous command if not successful #RPROMPT=&quot;%{$fg[red]%} %(?..[%?])&quot; # Right prompt with exit status of previous command marked with ✓ or ✗ #RPROMPT=&quot;%(?.%{$fg[green]%}✓ %{$reset_color%}.%{$fg[red]%}✗ %{$reset_color%})&quot; # Color man pages export LESS_TERMCAP_mb=$'\\E[01;32m' export LESS_TERMCAP_md=$'\\E[01;32m' export LESS_TERMCAP_me=$'\\E[0m' export LESS_TERMCAP_se=$'\\E[0m' export LESS_TERMCAP_so=$'\\E[01;47;34m' export LESS_TERMCAP_ue=$'\\E[0m' export LESS_TERMCAP_us=$'\\E[01;36m' export LESS=-r ## Plugins section: Enable fish style features # Use syntax highlighting source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh # Use history substring search source /usr/share/zsh/plugins/zsh-history-substring-search/zsh-history-substring-search.zsh # bind UP and DOWN arrow keys to history substring search zmodload zsh/terminfo bindkey &quot;$terminfo[kcuu1]&quot; history-substring-search-up bindkey &quot;$terminfo[kcud1]&quot; history-substring-search-down bindkey '^[[A' history-substring-search-up bindkey '^[[B' history-substring-search-down # Apply different settigns for different terminals case $(basename &quot;$(cat &quot;/proc/$PPID/comm&quot;)&quot;) in login) RPROMPT=&quot;%{$fg[red]%} %(?..[%?])&quot; alias x='startx ~/.xinitrc' # Type name of desired desktop after x, xinitrc is configured for it ;; # 'tmux: server') # RPROMPT='$(git_prompt_string)' # ## Base16 Shell color themes. # #possible themes: 3024, apathy, ashes, atelierdune, atelierforest, atelierhearth, # #atelierseaside, bespin, brewer, chalk, codeschool, colors, default, eighties, # #embers, flat, google, grayscale, greenscreen, harmonic16, isotope, londontube, # #marrakesh, mocha, monokai, ocean, paraiso, pop (dark only), railscasts, shapesifter, # #solarized, summerfruit, tomorrow, twilight # #theme=&quot;eighties&quot; # #Possible variants: dark and light # #shade=&quot;dark&quot; # #BASE16_SHELL=&quot;/usr/share/zsh/scripts/base16-shell/base16-$theme.$shade.sh&quot; # #[[ -s $BASE16_SHELL ]] &amp;&amp; source $BASE16_SHELL # # Use autosuggestion # source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh # ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20 # ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=8' # ;; *) RPROMPT='$(git_prompt_string)' # Use autosuggestion source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20 ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=8' ;; esac ","link":"http://www.ntlx.top/post/zsh/"},{"title":"Mac OS","content":"Usage or Setting Notes General Settings in Terminal alias his=&quot;history | awk '{CMD[\\$2]++;count++;}END{for (a in CMD)print CMD[a]\\&quot; \\&quot;CMD[a]/count*100\\&quot;% \\&quot;a;}' | grep -v \\&quot;./\\&quot; | column -c3 -s \\&quot; \\&quot; -t | sort -nr | nl | head -n10&quot; ","link":"http://www.ntlx.top/post/mac-os/"},{"title":"Self-host Matomo","content":"Deploy Matomo with Docker Compose version: &quot;2&quot; services: mariadb: image: &quot;docker.io/bitnami/mariadb:10.3-debian-10&quot; container_name: mariadb environment: - ALLOW_EMPTY_PASSWORD=yes - MARIADB_USER=bn_matomo - MARIADB_DATABASE=bitnami_matomo # Flag necessary for the database max allowed packet check # https://matomo.org/faq/troubleshooting/faq_183/ - MARIADB_EXTRA_FLAGS=--max_allowed_packet=64MB volumes: - &quot;./mariadb:/bitnami/mariadb&quot; logging: options: max-size: &quot;1m&quot; matomo: image: &quot;docker.io/bitnami/matomo&quot; container_name: matomo ports: - &quot;3002:8080&quot; - &quot;3003:8443&quot; environment: - MATOMO_DATABASE_HOST=mariadb - MATOMO_DATABASE_PORT_NUMBER=3306 - MATOMO_DATABASE_USER=bn_matomo - MATOMO_DATABASE_NAME=bitnami_matomo - ALLOW_EMPTY_PASSWORD=yes - MATOMO_USERNAME=xxx - MATOMO_PASSWORD=xxx - MATOMO_EMAIL=xxx@outlook.com - MATOMO_WEBSITE_NAME=&quot;xxx&quot; - MATOMO_WEBSITE_HOST=xxx:3002 volumes: - &quot;./matomo:/bitnami/matomo&quot; depends_on: - mariadb logging: options: max-size: &quot;1m&quot; ","link":"http://www.ntlx.top/post/self-host-matomo/"},{"title":"Self-host Ghost","content":"Deploy Ghost with Docker Compose version: '3.1' services: ghost: image: ghost:alpine restart: always ports: - 2368:2368 environment: # this url value is just an example, and is likely wrong for your environment! url: http://192.168.0.120:2368 # contrary to the default mentioned in the linked documentation, this image defaults to NODE_ENV=production (so development mode needs to be explicitly specified if desired) #NODE_ENV: development volumes: - ./content:/var/lib/ghost/content ","link":"http://www.ntlx.top/post/self-host-ghost/"},{"title":"Windows System Settings","content":"Settings for a brand new installation of Windows OS. Activate Windows According How to activate Windows Server without product key. Auto Activate Script Windows 10 Pro slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX slmgr /skms kms8.msguides.com slmgr /ato Windows 10 Enterprise slmgr /ipk NPPR9-FWDCX-D2C8J-H872K-2YT43 slmgr /skms kms8.msguides.com slmgr /ato Manually installing KMS client key to activate Windows Step 1 Get the right product key from the official article of Microsoft. Windows Server Semi-Annual Channel versions Windows Server, version 1903 and Windows Server, version 1809 Operating system edition KMS Client Setup Key Windows Server Datacenter 6NMRW-2C8FM-D24W7-TQWMY-CWH2D Windows Server Standard N2KJX-J94YW-TQVFB-DG9YT-724CC Windows Server, version 1803 Operating system edition KMS Client Setup Key Windows Server Datacenter 2HXDN-KRXHB-GPYC7-YCKFJ-7FVDG Windows Server Standard PTXN8-JFHJM-4WC78-MPCBR-9W4KR Windows Server, version 1709 Operating system edition KMS Client Setup Key Windows Server Datacenter 6Y6KB-N82V8-D8CQV-23MJW-BWTG6 Windows Server Standard DPCNP-XQFKJ-BJF7R-FRC8D-GF6G4 Windows Server LTSC/LTSB versions Windows Server 2019 Operating system edition KMS Client Setup Key Windows Server 2019 Datacenter WMDGN-G9PQG-XVVXX-R3X43-63DFG Windows Server 2019 Standard N69G4-B89J2-4G8F4-WWYCC-J464C Windows Server 2019 Essentials WVDHN-86M7X-466P6-VHXV7-YY726 Windows Server 2016 Operating system edition KMS Client Setup Key Windows Server 2016 Datacenter CB7KF-BWN84-R7R2Y-793K2-8XDDG Windows Server 2016 Standard WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY Windows Server 2016 Essentials JCKRF-N37P4-C2D82-9YXRT-4M63B Windows 10, all supported Semi-Annual Channel versions See the Windows lifecycle fact sheet for information about supported versions and end of service dates. Operating system edition KMS Client Setup Key Windows 10 Pro W269N-WFGWX-YVC9B-4J6C9-T83GX Windows 10 Pro N MH37W-N47XK-V7XM9-C7227-GCQG9 Windows 10 Pro for Workstations NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J Windows 10 Pro for Workstations N 9FNHH-K3HBT-3W4TD-6383H-6XYWF Windows 10 Pro Education 6TP4R-GNPTD-KYYHQ-7B7DP-J447Y Windows 10 Pro Education N YVWGF-BXNMC-HTQYQ-CPQ99-66QFC Windows 10 Education NW6C2-QMPVW-D7KKK-3GKT6-VCFB2 Windows 10 Education N 2WH4N-8QGBV-H22JP-CT43Q-MDWWJ Windows 10 Enterprise NPPR9-FWDCX-D2C8J-H872K-2YT43 Windows 10 Enterprise N DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4 Windows 10 Enterprise G YYVX9-NTFWV-6MDM3-9PT4T-4M68B Windows 10 Enterprise G N 44RPN-FTY23-9VTTB-MP9BX-T84FV Windows 10 LTSC/LTSB versions Windows 10 LTSC 2019 Operating system edition KMS Client Setup Key Windows 10 Enterprise LTSC 2019 M7XTQ-FN8P6-TTKYV-9D4CC-J462D Windows 10 Enterprise N LTSC 2019 92NFX-8DJQP-P6BBQ-THF9C-7CG2H Windows 10 LTSB 2016 Operating system edition KMS Client Setup Key Windows 10 Enterprise LTSB 2016 DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ Windows 10 Enterprise N LTSB 2016 QFFDN-GRT3P-VKWWX-X7T3R-8B639 Windows 10 LTSB 2015 Operating system edition KMS Client Setup Key Windows 10 Enterprise 2015 LTSB WNMTR-4C88C-JK8YV-HQ7T2-76DF9 Windows 10 Enterprise 2015 LTSB N 2F77B-TNFGY-69QQF-B8YKP-D69TJ Earlier versions of Windows Server Windows Server 2012 R2 Operating system edition KMS Client Setup Key Windows Server 2012 R2 Server Standard D2N9P-3P6X9-2R39C-7RTCD-MDVJX Windows Server 2012 R2 Datacenter W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9 Windows Server 2012 R2 Essentials KNC87-3J2TX-XB4WP-VCPJV-M4FWM Windows Server 2012 Operating system edition KMS Client Setup Key Windows Server 2012 BN3D2-R7TKB-3YPBD-8DRP2-27GG4 Windows Server 2012 N 8N2M2-HWPGY-7PGT9-HGDD8-GVGGY Windows Server 2012 Single Language 2WN2H-YGCQR-KFX6K-CD6TF-84YXQ Windows Server 2012 Country Specific 4K36P-JN4VD-GDC6V-KDT89-DYFKP Windows Server 2012 Server Standard XC9B7-NBPP2-83J2H-RHMBY-92BT4 Windows Server 2012 MultiPoint Standard HM7DN-YVMH3-46JC3-XYTG7-CYQJJ Windows Server 2012 MultiPoint Premium XNH6W-2V9GX-RGJ4K-Y8X6F-QGJ2G Windows Server 2012 Datacenter 48HP8-DN98B-MYWDG-T2DCC-8W83P Windows Server 2008 R2 Operating system edition KMS Client Setup Key Windows Server 2008 R2 Web 6TPJF-RBVHG-WBW2R-86QPH-6RTM4 Windows Server 2008 R2 HPC edition TT8MH-CG224-D3D7Q-498W2-9QCTX Windows Server 2008 R2 Standard YC6KT-GKW9T-YTKYR-T4X34-R7VHC Windows Server 2008 R2 Enterprise 489J6-VHDMP-X63PK-3K798-CPX3Y Windows Server 2008 R2 Datacenter 74YFP-3QFB3-KQT8W-PMXWJ-7M648 Windows Server 2008 R2 for Itanium-based Systems GT63C-RJFQ3-4GMB6-BRFB9-CB83V Windows Server 2008 Operating system edition KMS Client Setup Key Windows Web Server 2008 WYR28-R7TFJ-3X2YQ-YCY4H-M249D Windows Server 2008 Standard TM24T-X9RMF-VWXK6-X8JC9-BFGM2 Windows Server 2008 Standard without Hyper-V W7VD6-7JFBR-RX26B-YKQ3Y-6FFFJ Windows Server 2008 Enterprise YQGMW-MPWTJ-34KDK-48M3W-X4Q6V Windows Server 2008 Enterprise without Hyper-V 39BXF-X8Q23-P2WWT-38T2F-G3FPG Windows Server 2008 HPC RCTX3-KWVHP-BR6TB-RB6DM-6X7HP Windows Server 2008 Datacenter 7M67G-PC374-GR742-YH8V4-TCBY3 Windows Server 2008 Datacenter without Hyper-V 22XQ2-VRXRG-P8D42-K34TD-G3QQC Windows Server 2008 for Itanium-Based Systems 4DWFP-JF3DJ-B7DTH-78FJB-PDRHK Earlier versions of Windows Windows 8.1 Operating system edition KMS Client Setup Key Windows 8.1 Pro GCRJD-8NW9H-F2CDX-CCM8D-9D6T9 Windows 8.1 Pro N HMCNV-VVBFX-7HMBH-CTY9B-B4FXY Windows 8.1 Enterprise MHF9N-XY6XB-WVXMC-BTDCT-MKKG7 Windows 8.1 Enterprise N TT4HM-HN7YT-62K67-RGRQJ-JFFXW Windows 8 Operating system edition KMS Client Setup Key Windows 8 Pro NG4HW-VH26C-733KW-K6F98-J8CK4 Windows 8 Pro N XCVCF-2NXM9-723PB-MHCB7-2RYQQ Windows 8 Enterprise 32JNW-9KQ84-P47T8-D8GGY-CWCK7 Windows 8 Enterprise N JMNMF-RHW7P-DMY6X-RF3DR-X2BQT Windows 7 Operating system edition KMS Client Setup Key Windows 7 Professional FJ82H-XT6CR-J8D7P-XQJJ2-GPDD4 Windows 7 Professional N MRPKT-YTG23-K7D7T-X2JMM-QY7MG Windows 7 Professional E W82YF-2Q76Y-63HXB-FGJG9-GF7QX Windows 7 Enterprise 33PXH-7Y6KF-2VJC9-XBBR8-HVTHH Windows 7 Enterprise N YDRBP-3D83W-TY26F-D46B2-XCKRJ Windows 7 Enterprise E C29WB-22CC8-VJ326-GHFJW-H9DH4 Step 2 Install the key on your system. To open command prompt, right-click on the Windows button then select “Command prompt (Admin)” line. Then, enter “slmgr /ipk CLIENTKEY” in the command window. Note: each command is followed by hitting Enter. Step 3 Set the KMS server. Enter “slmgr /skms kms8.msguides.com” in the window. Step 4. Activate the KMS client key. Finally, use the command ““slmgr /ato” to activate your Windows. Active Microsoft Office Office 2019 Add a *.bat file, content with: @echo off (cd /d &quot;%~dp0&quot;)&amp;&amp;(NET FILE||(powershell start-process -FilePath '%0' -verb runas)&amp;&amp;(exit /B)) &gt;NUL 2&gt;&amp;1 title Office 2019 Activator r/Piracy echo Converting... &amp; mode 40,25 (if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot;)&amp;(if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot;)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\ProPlus2019VL*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\ProPlus2019VL*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul) cscript //nologo ospp.vbs /unpkey:6MWKP &gt;nul&amp;cscript //nologo ospp.vbs /inpkey:NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP &gt;nul&amp;set i=1 :server if %i%==1 set KMS_Sev=kms7.MSGuides.com if %i%==2 set KMS_Sev=kms8.MSGuides.com if %i%==3 set KMS_Sev=kms9.MSGuides.com cscript //nologo ospp.vbs /sethst:%KMS_Sev% &gt;nul echo %KMS_Sev% &amp; echo Activating... cscript //nologo ospp.vbs /act | find /i &quot;successful&quot; &amp;&amp; (echo Complete) || (echo Trying another KMS Server &amp; set /a i+=1 &amp; goto server) pause &gt;nul exit Run this *.bat file using administrator, done. Key: W8W6K-3N7KK-PXB9H-8TD8W-BWTH9（零售版）N9J9Q-Q7MMP-XDDM6-63KKP-76FPM（批量版）may still available. Active Microsoft Visio Visio 2019 Activation Add a *.bat file, content with: @echo off title Activate Microsoft Visio 2019&amp;cls&amp;echo ============================================================================&amp;echo #Visio: Activating Microsoft software products for FREE without software&amp;echo ============================================================================&amp;echo.&amp;echo #Supported products:&amp;echo - Microsoft Visio Standard 2019&amp;echo - Microsoft Visio Professional Plus 2019&amp;echo.&amp;echo.&amp;(if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot;)&amp;(if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot;)&amp;cscript //nologo ospp.vbs /inslic:&quot;..\\root\\Licenses16\\pkeyconfig-office.xrm-ms&quot; &gt;nul&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\client-issuance*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\visioprovl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\visiopro2019vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;echo.&amp;echo ============================================================================&amp;echo 正在尝试激活...&amp;cscript //nologo ospp.vbs /unpkey:7VCBB &gt;nul&amp;cscript //nologo ospp.vbs /inpkey:9BGNQ-K37YR-RQHF2-38RQ3-7VCBB &gt;nul&amp;set i=1 :server if %i%==1 set KMS_Sev=kms8.MSGuides.com if %i%==2 set KMS_Sev=kms9.MSGuides.com if %i%==3 set KMS_Sev=kms7.MSGuides.com if %i%==4 goto notsupported cscript //nologo ospp.vbs /sethst:%KMS_Sev% &gt;nul&amp;echo ============================================================================&amp;echo.&amp;echo. cscript //nologo ospp.vbs /act | find /i &quot;successful&quot; &amp;&amp; (echo 已完成，按任意键退出) || (echo 连接KMS服务器失败! 试图连接到另一个… &amp; echo 请等待... &amp; echo. &amp; echo. &amp; set /a i+=1 &amp; goto server) pause &gt;nul exit Run this *.bat file using administrator, done. Key: YQGTJ-44NB6-KBYR3-388HG-KTQ4K or 3BP7N-Y28TF-9YMM8-4JY2B-7MKH9 may still available. Active Microsoft Project Project Professional 2019 VL Activation Add a *.bat file, content with: @echo off title Activate Microsoft Project 2019&amp;cls&amp;echo ============================================================================&amp;echo #Project: Activating Microsoft software products for FREE without software&amp;echo ============================================================================&amp;echo.&amp;echo #Supported products:&amp;echo - Microsoft Project Standard 2019&amp;echo - Microsoft Project Professional 2019&amp;echo.&amp;echo.&amp;(if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot;)&amp;(if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot;)&amp;cscript //nologo ospp.vbs /inslic:&quot;..\\root\\Licenses16\\pkeyconfig-office.xrm-ms&quot; &gt;nul&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\client-issuance*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\Project???vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;(for /f %%x in ('dir /b ..\\root\\Licenses16\\Project???vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul)&amp;echo.&amp;echo ============================================================================&amp;echo 正在尝试激活...&amp;cscript //nologo ospp.vbs /unpkey:PKD2B &gt;nul&amp;cscript //nologo ospp.vbs /inpkey:B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B &gt;nul&amp;set i=1 :server if %i%==1 set KMS_Sev=kms8.MSGuides.com if %i%==2 set KMS_Sev=kms9.MSGuides.com if %i%==3 set KMS_Sev=kms7.MSGuides.com if %i%==4 goto notsupported cscript //nologo ospp.vbs /sethst:%KMS_Sev% &gt;nul&amp;echo ============================================================================&amp;echo.&amp;echo. cscript //nologo ospp.vbs /act | find /i &quot;successful&quot; &amp;&amp; (echo 已完成，按任意键退出) || (echo 连接KMS服务器失败! 试图连接到另一个… &amp; echo 请等待... &amp; echo. &amp; echo. &amp; set /a i+=1 &amp; goto server) pause &gt;nul exit echo 进入目录 if exist &quot;%ProgramFiles%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles%\\Microsoft Office\\Office16&quot; if exist &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16\\ospp.vbs&quot; cd /d &quot;%ProgramFiles(x86)%\\Microsoft Office\\Office16&quot; echo 重置Project2016零售激活... cscript ospp.vbs /rearm echo 安装 KMS 许可证... for /f %%x in ('dir /b ..\\root\\Licenses16\\project???vl_kms*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul echo 安装 MAK 许可证... for /f %%x in ('dir /b ..\\root\\Licenses16\\project???vl_mak*.xrm-ms') do cscript ospp.vbs /inslic:&quot;..\\root\\Licenses16\\%%x&quot; &gt;nul # 设置自建kms服务的地址或者域名，网络中搜到的也一样 cscript ospp.vbs /sethst:kms9.MSGuides.com # 安装从上述链接中得到的对应的Office或者Project或者Project的key cscript ospp.vbs /inpkey:B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B # 激活 cscript ospp.vbs /act # 查看激活状态 cscript ospp.vbs /dstatus Run this *.bat file using administrator, done. KMS Key Collection Microsoft Office 2019 Vol 版 Gvlk 密钥（KMS 激活专用）产品秘钥 Office Professional Plus 2019：NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP Office Standard 2019：6NWWJ-YQWMR-QKGCB-6TMB3-9D9HK Project Professional 2019：B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B Project Standard 2019：C4F7P-NCP8C-6CQPT-MQHV9-JXD2M Visio Professional 2019：9BGNQ-K37YR-RQHF2-38RQ3-7VCBB KMS Server Deploy a KMS Server on Linux: #!/usr/bin/env bash # # Auto install KMS Server # System Required: CentOS 6+, Debian7+, Ubuntu12+ # Copyright (C) 2017-2018 Teddysun &lt;i@teddysun.com&gt; # URL: https://teddysun.com/530.html # # Thanks: https://github.com/Wind4/vlmcsd # red='\\033[0;31m' green='\\033[0;32m' yellow='\\033[0;33m' plain='\\033[0m' cur_dir=$(pwd) [[ $EUID -ne 0 ]] &amp;&amp; echo -e &quot;${red}Error:${plain} This script must be run as root!&quot; &amp;&amp; exit 1 if [ -f /etc/redhat-release ]; then release=&quot;centos&quot; elif grep -Eqi &quot;debian&quot; /etc/issue; then release=&quot;debian&quot; elif grep -Eqi &quot;ubuntu&quot; /etc/issue; then release=&quot;ubuntu&quot; elif grep -Eqi &quot;centos|red hat|redhat&quot; /etc/issue; then release=&quot;centos&quot; elif grep -Eqi &quot;debian&quot; /proc/version; then release=&quot;debian&quot; elif grep -Eqi &quot;ubuntu&quot; /proc/version; then release=&quot;ubuntu&quot; elif grep -Eqi &quot;centos|red hat|redhat&quot; /proc/version; then release=&quot;centos&quot; else release=&quot;&quot; fi boot_start(){ if [[ x&quot;${release}&quot; == x&quot;debian&quot; || x&quot;${release}&quot; == x&quot;ubuntu&quot; ]]; then update-rc.d -f &quot;${1}&quot; defaults elif [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then chkconfig --add &quot;${1}&quot; chkconfig &quot;${1}&quot; on fi } boot_stop(){ if [[ x&quot;${release}&quot; == x&quot;debian&quot; || x&quot;${release}&quot; == x&quot;ubuntu&quot; ]]; then update-rc.d -f &quot;${1}&quot; remove elif [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then chkconfig &quot;${1}&quot; off chkconfig --del &quot;${1}&quot; fi } # Get version getversion(){ if [[ -s /etc/redhat-release ]]; then grep -oE &quot;[0-9.]+&quot; /etc/redhat-release else grep -oE &quot;[0-9.]+&quot; /etc/issue fi } # CentOS version centosversion(){ if [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then local code=$1 local version=&quot;$(getversion)&quot; local main_ver=${version%%.*} if [ &quot;$main_ver&quot; == &quot;$code&quot; ]; then return 0 else return 1 fi else return 1 fi } get_opsy() { [ -f /etc/redhat-release ] &amp;&amp; awk '{print ($1,$3~/^[0-9]/?$3:$4)}' /etc/redhat-release &amp;&amp; return [ -f /etc/os-release ] &amp;&amp; awk -F'[= &quot;]' '/PRETTY_NAME/{print $3,$4,$5}' /etc/os-release &amp;&amp; return [ -f /etc/lsb-release ] &amp;&amp; awk -F'[=&quot;]+' '/DESCRIPTION/{print $2}' /etc/lsb-release &amp;&amp; return } get_char() { SAVEDSTTY=$(stty -g) stty -echo stty cbreak dd if=/dev/tty bs=1 count=1 2&gt; /dev/null stty -raw stty echo stty &quot;$SAVEDSTTY&quot; } set_firewall() { if centosversion 6; then /etc/init.d/iptables status &gt; /dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then iptables -L -n | grep -i 1688 &gt; /dev/null 2&gt;&amp;1 if [ $? -ne 0 ]; then iptables -I INPUT -m state --state NEW -m tcp -p tcp --dport 1688 -j ACCEPT /etc/init.d/iptables save /etc/init.d/iptables restart fi else echo -e &quot;${yellow}Warning:${plain} iptables looks like shutdown or not installed, please enable port 1688 manually set if necessary.&quot; fi elif centosversion 7; then systemctl status firewalld &gt; /dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then firewall-cmd --permanent --zone=public --add-port=1688/tcp firewall-cmd --reload else echo -e &quot;${yellow}Warning:${plain} firewalld looks like shutdown or not installed, please enable port 1688 manually set if necessary.&quot; fi fi } install_main() { [ -f /usr/bin/vlmcsd ] &amp;&amp; echo -e &quot;${yellow}Warning:${plain} KMS Server is already installed. nothing to do...&quot; &amp;&amp; exit 1 clear opsy=$( get_opsy ) arch=$( uname -m ) lbit=$( getconf LONG_BIT ) kern=$( uname -r ) echo &quot;---------- System Information ----------&quot; echo &quot; OS : $opsy&quot; echo &quot; Arch : $arch ($lbit Bit)&quot; echo &quot; Kernel : $kern&quot; echo &quot;----------------------------------------&quot; echo &quot; Auto install KMS Server&quot; echo echo &quot; URL: https://teddysun.com/530.html&quot; echo &quot;----------------------------------------&quot; echo echo &quot;Press any key to start...or Press Ctrl+C to cancel&quot; char=$(get_char) if [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then yum -y install gcc git make nss curl libcurl if ! wget -e &quot;http_proxy=http://cloud.cubicise.com:21888&quot; --no-check-certificate -O /etc/init.d/kms https://raw.githubusercontent.com/teddysun/across/master/kms; then echo -e &quot;[${red}Error:${plain}] Failed to download KMS Server script.&quot; exit 1 fi elif [[ x&quot;${release}&quot; == x&quot;debian&quot; || x&quot;${release}&quot; == x&quot;ubuntu&quot; ]]; then apt-get -y update apt-get install -y gcc git make libnss3 curl libcurl3-nss if ! wget -e &quot;http_proxy=http://cloud.cubicise.com:21888&quot; --no-check-certificate -O /etc/init.d/kms https://raw.githubusercontent.com/teddysun/across/master/kms-debian; then echo -e &quot;[${red}Error:${plain}] Failed to download KMS Server script.&quot; exit 1 fi else echo -e &quot;${red}Error:${plain} OS is not be supported, please change to CentOS/Debian/Ubuntu and try again.&quot; exit 1 fi cd &quot;${cur_dir}&quot; || exit git clone https://github.com/Wind4/vlmcsd.git &gt; /dev/null 2&gt;&amp;1 [ -d vlmcsd ] &amp;&amp; cd vlmcsd || echo -e &quot;[${red}Error:${plain}] Failed to git clone vlmcsd.&quot; make if [ $? -ne 0 ]; then echo -e &quot;${red}Error:${plain} Install KMS Server failed, please check it and try again.&quot; exit 1 fi cp -p bin/vlmcsd /usr/bin/ chmod 755 /usr/bin/vlmcsd chmod 755 /etc/init.d/kms boot_start kms /etc/init.d/kms start if [ $? -ne 0 ]; then echo -e &quot;${red}Error:${plain} KMS server start failed.&quot; fi if [[ x&quot;${release}&quot; == x&quot;centos&quot; ]]; then set_firewall fi cd &quot;${cur_dir}&quot; || exit rm -rf vlmcsd echo echo &quot;Install KMS Server success&quot; echo &quot;Welcome to visit:https://teddysun.com/530.html&quot; echo &quot;Enjoy it!&quot; echo } install_kms() { install_main 2&gt;&amp;1 | tee &quot;${cur_dir}&quot;/install_kms.log } # Uninstall KMS Server uninstall_kms() { printf &quot;Are you sure uninstall KMS Server? (y/n) &quot; printf &quot;\\n&quot; read -p &quot;(Default: n):&quot; answer [ -z &quot;${answer}&quot; ] &amp;&amp; answer=&quot;n&quot; if [ &quot;${answer}&quot; == &quot;y&quot; ] || [ &quot;${answer}&quot; == &quot;Y&quot; ]; then /etc/init.d/kms status &gt; /dev/null 2&gt;&amp;1 if [ $? -eq 0 ]; then /etc/init.d/kms stop fi boot_stop kms # delete kms server rm -f /usr/bin/vlmcsd rm -f /etc/init.d/kms rm -f /var/log/vlmcsd.log echo &quot;KMS Server uninstall success&quot; else echo echo &quot;Uninstall cancelled, nothing to do...&quot; echo fi } # Initialization step action=$1 [ -z &quot;$1&quot; ] &amp;&amp; action=install case &quot;$action&quot; in install|uninstall) ${action}_kms ;; *) echo &quot;Arguments error! [${action}]&quot; echo &quot;Usage: $(basename $0) [install|uninstall]&quot; ;; esac Reference windows、office、visio、project 激活方法 ","link":"http://www.ntlx.top/post/windows-system-settings/"},{"title":"mDNS","content":"Settings for mDNS under multi OS (Linux). Alpine sudo apk add avahi dbus sudo rc-update add avahi-daemon sudo service avahi-daemon start CentOS sudo yum install avahi sudo yum install avahi-tools sudo systemctl start avahi-daemon sudo systemctl enable avahi-daemon sudo yum install -y nss-mdns then modify /etc/nsswitch.conf with root privilege, replace hosts: files dns to hosts: files mdns_minimal [NOTFOUND=return] dns. At last, firewall setting must be modified: # sudo firewall-cmd --get-services # sudo firewall-cmd --add-service=mdns sudo firewall-cmd --permanent --add-service=mdns sudo firewall-cmd --reload Ubuntu sudo apt install avahi-daemon ","link":"http://www.ntlx.top/post/mdns/"}]}